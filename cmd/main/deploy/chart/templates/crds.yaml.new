---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.5
  name: tailscaleendpoints.gateway.tailscale.com
spec:
  group: gateway.tailscale.com
  names:
    categories:
    - tailscale-gateway
    kind: TailscaleEndpoints
    listKind: TailscaleEndpointsList
    plural: tailscaleendpoints
    singular: tailscaleendpoints
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Associated tailnet
      jsonPath: .spec.tailnet
      name: Tailnet
      type: string
    - description: Total endpoints
      jsonPath: .status.totalEndpoints
      name: Total
      type: integer
    - description: Healthy endpoints
      jsonPath: .status.healthyEndpoints
      name: Healthy
      type: integer
    - description: Created StatefulSets
      jsonPath: .status.statefulSetRefs[*].name
      name: StatefulSets
      type: integer
    - description: Last discovery sync
      jsonPath: .status.lastSync
      name: Last Sync
      type: date
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: TailscaleEndpoints is the Schema for the tailscaleendpoints API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: TailscaleEndpointsSpec defines the desired state of TailscaleEndpoints
            properties:
              autoDiscovery:
                description: AutoDiscovery configures automatic endpoint discovery
                properties:
                  enabled:
                    default: true
                    description: Enabled controls whether auto-discovery is active
                    type: boolean
                  serviceDiscovery:
                    description: ServiceDiscovery configures VIP service discovery
                    properties:
                      enabled:
                        default: false
                        description: Enabled controls whether to discover Tailscale
                          VIP services
                        type: boolean
                      serviceNames:
                        description: |-
                          ServiceNames are specific VIP service names to discover
                          Format: ["svc:web-service", "svc:api-service"]
                        items:
                          type: string
                        type: array
                      serviceTags:
                        description: ServiceTags filter VIP services by ACL tags
                        items:
                          type: string
                        type: array
                    required:
                    - enabled
                    type: object
                  syncInterval:
                    default: 30s
                    description: SyncInterval defines how often to sync with Tailscale
                      API
                    type: string
                  tagSelectors:
                    description: TagSelectors define advanced tag-based discovery
                      rules
                    items:
                      description: TagSelector defines a tag-based selection rule
                      properties:
                        operator:
                          default: Exists
                          description: Operator defines the selection operator
                          enum:
                          - In
                          - NotIn
                          - Exists
                          - DoesNotExist
                          type: string
                        tag:
                          description: Tag is the full tag key (e.g., "tag:service",
                            "tag:environment")
                          type: string
                        values:
                          description: |-
                            Values are the tag values to match (for In/NotIn operators)
                            For "tag:environment", values might be ["production", "staging"]
                          items:
                            type: string
                          type: array
                      required:
                      - tag
                      type: object
                    type: array
                required:
                - enabled
                type: object
              endpoints:
                description: Endpoints defines the mapping between Tailscale services
                  and their network details
                items:
                  description: TailscaleEndpoint represents a service accessible via
                    Tailscale
                  properties:
                    externalTarget:
                      description: |-
                        ExternalTarget defines the external service this endpoint should route to (for Envoy Gateway integration)
                        Format: "hostname:port" or "service-name.namespace.svc.cluster.local:port"
                      type: string
                    healthCheck:
                      description: HealthCheck defines health checking configuration
                        for this endpoint
                      properties:
                        enabled:
                          default: true
                          description: Enabled controls whether health checking is
                            active
                          type: boolean
                        healthyThreshold:
                          default: 2
                          description: HealthyThreshold is the number of consecutive
                            successful checks for healthy status
                          format: int32
                          minimum: 1
                          type: integer
                        interval:
                          default: 10s
                          description: Interval defines how often to perform health
                            checks
                          type: string
                        path:
                          default: /health
                          description: Path is the HTTP path for health checks (HTTP/HTTPS
                            protocols only)
                          type: string
                        timeout:
                          default: 3s
                          description: Timeout defines the timeout for health check
                            requests
                          type: string
                        unhealthyThreshold:
                          default: 3
                          description: UnhealthyThreshold is the number of consecutive
                            failed checks for unhealthy status
                          format: int32
                          minimum: 1
                          type: integer
                      required:
                      - enabled
                      type: object
                    name:
                      description: Name is a unique identifier for this endpoint within
                        the tailnet
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                    port:
                      description: Port is the port number the service listens on
                      format: int32
                      maximum: 65535
                      minimum: 1
                      type: integer
                    protocol:
                      default: HTTP
                      description: Protocol defines the network protocol (HTTP, HTTPS,
                        TCP, UDP)
                      enum:
                      - HTTP
                      - HTTPS
                      - TCP
                      - UDP
                      type: string
                    tags:
                      description: Tags are Tailscale tags associated with this endpoint
                      items:
                        type: string
                      type: array
                    tailscaleFQDN:
                      description: TailscaleFQDN is the fully qualified domain name
                        in the tailnet
                      type: string
                    tailscaleIP:
                      description: TailscaleIP is the Tailscale IP address of the
                        service
                      type: string
                    weight:
                      default: 1
                      description: Weight defines the load balancing weight for this
                        endpoint
                      format: int32
                      maximum: 100
                      minimum: 1
                      type: integer
                  required:
                  - name
                  - port
                  - protocol
                  - tailscaleFQDN
                  - tailscaleIP
                  type: object
                type: array
              tailnet:
                description: Tailnet identifies which tailnet these endpoints belong
                  to
                type: string
            required:
            - tailnet
            type: object
          status:
            description: TailscaleEndpointsStatus defines the observed state of TailscaleEndpoints
            properties:
              autoDiscoveryStatus:
                description: AutoDiscoveryStatus provides details about the auto-discovery
                  process
                properties:
                  apiStatus:
                    description: APIStatus status of Tailscale API communication
                    properties:
                      averageResponseTime:
                        description: AverageResponseTime average API response time
                        type: string
                      baseURL:
                        description: BaseURL the API base URL being used
                        type: string
                      capabilities:
                        description: Capabilities lists available API capabilities
                        items:
                          type: string
                        type: array
                      connected:
                        description: Connected indicates if API communication is working
                        type: boolean
                      lastError:
                        description: LastError provides details about the most recent
                          API error
                        properties:
                          code:
                            description: Code is a machine-readable error code
                            type: string
                          component:
                            description: Component identifies which component generated
                              the error
                            enum:
                            - Controller
                            - ExtensionServer
                            - TailscaleAPI
                            - ServiceDiscovery
                            - RouteGeneration
                            - Validation
                            - StatefulSet
                            - HealthCheck
                            - OAuth
                            - PolicyEngine
                            type: string
                          context:
                            additionalProperties:
                              type: string
                            description: Context provides additional context about
                              the error
                            type: object
                          httpStatusCode:
                            description: HTTPStatusCode provides HTTP status code
                              for API-related errors
                            format: int32
                            type: integer
                          lastRetry:
                            description: LastRetry timestamp of the last retry attempt
                            format: date-time
                            type: string
                          message:
                            description: Message is a human-readable error message
                            type: string
                          resolutionHint:
                            description: ResolutionHint provides guidance on how to
                              resolve the error
                            type: string
                          resourceRef:
                            description: ResourceRef identifies the specific resource
                              that caused the error
                            properties:
                              group:
                                description: Group is the group of the target resource.
                                maxLength: 253
                                pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                type: string
                              kind:
                                description: Kind is the kind of the target resource.
                                maxLength: 63
                                minLength: 1
                                pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                type: string
                              name:
                                description: Name is the name of the target resource.
                                maxLength: 253
                                minLength: 1
                                type: string
                              namespace:
                                description: Namespace is the namespace of the target
                                  resource.
                                maxLength: 63
                                minLength: 1
                                pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                type: string
                              sectionName:
                                description: SectionName is the name of a section
                                  within the target resource.
                                maxLength: 253
                                minLength: 1
                                pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                type: string
                            required:
                            - group
                            - kind
                            - name
                            type: object
                          retries:
                            description: Retries indicates how many times this operation
                              has been retried
                            format: int32
                            type: integer
                          severity:
                            description: Severity indicates the severity of the error
                            enum:
                            - Critical
                            - High
                            - Medium
                            - Low
                            - Info
                            type: string
                          timestamp:
                            description: Timestamp when the error occurred
                            format: date-time
                            type: string
                        required:
                        - code
                        - component
                        - message
                        - retries
                        - timestamp
                        type: object
                      lastSuccessfulCall:
                        description: LastSuccessfulCall timestamp of last successful
                          API call
                        format: date-time
                        type: string
                      rateLimitRemaining:
                        description: RateLimitRemaining API rate limit remaining
                        format: int32
                        type: integer
                      rateLimitReset:
                        description: RateLimitReset when the rate limit resets
                        format: date-time
                        type: string
                      requestCount:
                        description: RequestCount total number of API requests made
                        format: int64
                        type: integer
                      userAgent:
                        description: UserAgent the user agent string being used
                        type: string
                    required:
                    - connected
                    type: object
                  devicesMatchingCriteria:
                    description: DevicesMatchingCriteria devices that matched discovery
                      criteria
                    type: integer
                  discoveryDuration:
                    description: DiscoveryDuration how long the last discovery took
                    type: string
                  discoveryErrors:
                    description: DiscoveryErrors errors encountered during discovery
                    items:
                      description: DetailedError provides comprehensive error information
                        with context
                      properties:
                        code:
                          description: Code is a machine-readable error code
                          type: string
                        component:
                          description: Component identifies which component generated
                            the error
                          enum:
                          - Controller
                          - ExtensionServer
                          - TailscaleAPI
                          - ServiceDiscovery
                          - RouteGeneration
                          - Validation
                          - StatefulSet
                          - HealthCheck
                          - OAuth
                          - PolicyEngine
                          type: string
                        context:
                          additionalProperties:
                            type: string
                          description: Context provides additional context about the
                            error
                          type: object
                        httpStatusCode:
                          description: HTTPStatusCode provides HTTP status code for
                            API-related errors
                          format: int32
                          type: integer
                        lastRetry:
                          description: LastRetry timestamp of the last retry attempt
                          format: date-time
                          type: string
                        message:
                          description: Message is a human-readable error message
                          type: string
                        resolutionHint:
                          description: ResolutionHint provides guidance on how to
                            resolve the error
                          type: string
                        resourceRef:
                          description: ResourceRef identifies the specific resource
                            that caused the error
                          properties:
                            group:
                              description: Group is the group of the target resource.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              description: Kind is the kind of the target resource.
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the target resource.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: Namespace is the namespace of the target
                                resource.
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            sectionName:
                              description: SectionName is the name of a section within
                                the target resource.
                              maxLength: 253
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                          required:
                          - group
                          - kind
                          - name
                          type: object
                        retries:
                          description: Retries indicates how many times this operation
                            has been retried
                          format: int32
                          type: integer
                        severity:
                          description: Severity indicates the severity of the error
                          enum:
                          - Critical
                          - High
                          - Medium
                          - Low
                          - Info
                          type: string
                        timestamp:
                          description: Timestamp when the error occurred
                          format: date-time
                          type: string
                      required:
                      - code
                      - component
                      - message
                      - retries
                      - timestamp
                      type: object
                    type: array
                  enabled:
                    description: Enabled indicates if auto-discovery is enabled
                    type: boolean
                  lastDiscoveryTime:
                    description: LastDiscoveryTime when auto-discovery was last performed
                    format: date-time
                    type: string
                  tagSelectorsApplied:
                    description: TagSelectorsApplied number of tag selectors applied
                    type: integer
                  totalDevicesScanned:
                    description: TotalDevicesScanned total devices found in tailnet
                    type: integer
                  vipServicesDiscovered:
                    description: VIPServicesDiscovered VIP services found
                    type: integer
                required:
                - devicesMatchingCriteria
                - enabled
                - totalDevicesScanned
                type: object
              conditions:
                description: Conditions represent the current state of the TailscaleEndpoints
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              discoveredEndpoints:
                description: DiscoveredEndpoints is the count of endpoints discovered
                  via auto-discovery
                type: integer
              endpointStatus:
                description: EndpointStatus provides detailed status for each endpoint
                items:
                  description: EndpointStatus provides status information for a specific
                    endpoint
                  properties:
                    connectionStatus:
                      description: ConnectionStatus tracks the status of StatefulSet
                        connections
                      properties:
                        connectionErrors:
                          description: ConnectionErrors recent connection errors
                          items:
                            description: DetailedError provides comprehensive error
                              information with context
                            properties:
                              code:
                                description: Code is a machine-readable error code
                                type: string
                              component:
                                description: Component identifies which component
                                  generated the error
                                enum:
                                - Controller
                                - ExtensionServer
                                - TailscaleAPI
                                - ServiceDiscovery
                                - RouteGeneration
                                - Validation
                                - StatefulSet
                                - HealthCheck
                                - OAuth
                                - PolicyEngine
                                type: string
                              context:
                                additionalProperties:
                                  type: string
                                description: Context provides additional context about
                                  the error
                                type: object
                              httpStatusCode:
                                description: HTTPStatusCode provides HTTP status code
                                  for API-related errors
                                format: int32
                                type: integer
                              lastRetry:
                                description: LastRetry timestamp of the last retry
                                  attempt
                                format: date-time
                                type: string
                              message:
                                description: Message is a human-readable error message
                                type: string
                              resolutionHint:
                                description: ResolutionHint provides guidance on how
                                  to resolve the error
                                type: string
                              resourceRef:
                                description: ResourceRef identifies the specific resource
                                  that caused the error
                                properties:
                                  group:
                                    description: Group is the group of the target
                                      resource.
                                    maxLength: 253
                                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                    type: string
                                  kind:
                                    description: Kind is the kind of the target resource.
                                    maxLength: 63
                                    minLength: 1
                                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                    type: string
                                  name:
                                    description: Name is the name of the target resource.
                                    maxLength: 253
                                    minLength: 1
                                    type: string
                                  namespace:
                                    description: Namespace is the namespace of the
                                      target resource.
                                    maxLength: 63
                                    minLength: 1
                                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                    type: string
                                  sectionName:
                                    description: SectionName is the name of a section
                                      within the target resource.
                                    maxLength: 253
                                    minLength: 1
                                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                    type: string
                                required:
                                - group
                                - kind
                                - name
                                type: object
                              retries:
                                description: Retries indicates how many times this
                                  operation has been retried
                                format: int32
                                type: integer
                              severity:
                                description: Severity indicates the severity of the
                                  error
                                enum:
                                - Critical
                                - High
                                - Medium
                                - Low
                                - Info
                                type: string
                              timestamp:
                                description: Timestamp when the error occurred
                                format: date-time
                                type: string
                            required:
                            - code
                            - component
                            - message
                            - retries
                            - timestamp
                            type: object
                          type: array
                        egressReady:
                          description: EgressReady indicates if egress connection
                            is ready
                          type: boolean
                        ingressReady:
                          description: IngressReady indicates if ingress connection
                            is ready
                          type: boolean
                        lastConnectionAttempt:
                          description: LastConnectionAttempt timestamp of last connection
                            attempt
                          format: date-time
                          type: string
                        tailscaleConnected:
                          description: TailscaleConnected indicates if Tailscale connection
                            is established
                          type: boolean
                      type: object
                    discoverySource:
                      description: DiscoverySource indicates how this endpoint was
                        discovered
                      enum:
                      - Manual
                      - AutoDiscovery
                      - VIPService
                      - TagSelector
                      type: string
                    externalTarget:
                      description: ExternalTarget shows the configured external target
                      type: string
                    healthCheckDetails:
                      description: HealthCheckDetails provides detailed health check
                        information
                      properties:
                        averageResponseTime:
                          description: AverageResponseTime average health check response
                            time
                          type: string
                        configuration:
                          description: Configuration shows the current health check
                            configuration
                          properties:
                            enabled:
                              default: true
                              description: Enabled controls whether health checking
                                is active
                              type: boolean
                            healthyThreshold:
                              default: 2
                              description: HealthyThreshold is the number of consecutive
                                successful checks for healthy status
                              format: int32
                              minimum: 1
                              type: integer
                            interval:
                              default: 10s
                              description: Interval defines how often to perform health
                                checks
                              type: string
                            path:
                              default: /health
                              description: Path is the HTTP path for health checks
                                (HTTP/HTTPS protocols only)
                              type: string
                            timeout:
                              default: 3s
                              description: Timeout defines the timeout for health
                                check requests
                              type: string
                            unhealthyThreshold:
                              default: 3
                              description: UnhealthyThreshold is the number of consecutive
                                failed checks for unhealthy status
                              format: int32
                              minimum: 1
                              type: integer
                          required:
                          - enabled
                          type: object
                        enabled:
                          description: Enabled indicates if health checking is enabled
                            for this endpoint
                          type: boolean
                        lastCheckDuration:
                          description: LastCheckDuration duration of the last health
                            check
                          type: string
                        lastCheckResponse:
                          description: LastCheckResponse details about the last health
                            check response
                          properties:
                            errorMessage:
                              description: ErrorMessage error message if the check
                                failed
                              type: string
                            responseHeaders:
                              additionalProperties:
                                type: string
                              description: ResponseHeaders key response headers (for
                                HTTP/HTTPS checks)
                              type: object
                            responseTime:
                              description: ResponseTime how long the check took
                              type: string
                            statusCode:
                              description: StatusCode HTTP status code (for HTTP/HTTPS
                                checks)
                              format: int32
                              type: integer
                            success:
                              description: Success indicates if the health check succeeded
                              type: boolean
                            timestamp:
                              description: Timestamp when the check was performed
                              format: date-time
                              type: string
                          required:
                          - responseTime
                          - success
                          - timestamp
                          type: object
                        recentFailures:
                          description: RecentFailures details about recent health
                            check failures
                          items:
                            description: HealthCheckFailure provides details about
                              a health check failure
                            properties:
                              duration:
                                description: Duration how long the failed check took
                                type: string
                              errorMessage:
                                description: ErrorMessage detailed error message
                                type: string
                              errorType:
                                description: ErrorType categorizes the type of failure
                                enum:
                                - Timeout
                                - ConnectionRefused
                                - DNSResolution
                                - HTTPError
                                - TCPError
                                - UDPError
                                - TLSError
                                - Unknown
                                type: string
                              retryAttempt:
                                description: RetryAttempt which retry attempt this
                                  was
                                format: int32
                                type: integer
                              statusCode:
                                description: StatusCode HTTP status code if applicable
                                format: int32
                                type: integer
                              timestamp:
                                description: Timestamp when the failure occurred
                                format: date-time
                                type: string
                            required:
                            - errorMessage
                            - errorType
                            - timestamp
                            type: object
                          type: array
                        successfulChecks:
                          description: SuccessfulChecks total number of successful
                            health checks
                          format: int64
                          type: integer
                        successiveFailures:
                          description: SuccessiveFailures number of consecutive failed
                            health checks
                          format: int32
                          type: integer
                        successiveSuccesses:
                          description: SuccessiveSuccesses number of consecutive successful
                            health checks
                          format: int32
                          type: integer
                        totalChecks:
                          description: TotalChecks total number of health checks performed
                          format: int64
                          type: integer
                      required:
                      - enabled
                      - successfulChecks
                      - successiveFailures
                      - successiveSuccesses
                      - totalChecks
                      type: object
                    healthStatus:
                      description: HealthStatus indicates the health check status
                      enum:
                      - Healthy
                      - Unhealthy
                      - Unknown
                      - Disabled
                      type: string
                    lastError:
                      description: LastError provides context about the most recent
                        error
                      properties:
                        code:
                          description: Code is a machine-readable error code
                          type: string
                        component:
                          description: Component identifies which component generated
                            the error
                          enum:
                          - Controller
                          - ExtensionServer
                          - TailscaleAPI
                          - ServiceDiscovery
                          - RouteGeneration
                          - Validation
                          - StatefulSet
                          - HealthCheck
                          - OAuth
                          - PolicyEngine
                          type: string
                        context:
                          additionalProperties:
                            type: string
                          description: Context provides additional context about the
                            error
                          type: object
                        httpStatusCode:
                          description: HTTPStatusCode provides HTTP status code for
                            API-related errors
                          format: int32
                          type: integer
                        lastRetry:
                          description: LastRetry timestamp of the last retry attempt
                          format: date-time
                          type: string
                        message:
                          description: Message is a human-readable error message
                          type: string
                        resolutionHint:
                          description: ResolutionHint provides guidance on how to
                            resolve the error
                          type: string
                        resourceRef:
                          description: ResourceRef identifies the specific resource
                            that caused the error
                          properties:
                            group:
                              description: Group is the group of the target resource.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              description: Kind is the kind of the target resource.
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the target resource.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: Namespace is the namespace of the target
                                resource.
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            sectionName:
                              description: SectionName is the name of a section within
                                the target resource.
                              maxLength: 253
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                          required:
                          - group
                          - kind
                          - name
                          type: object
                        retries:
                          description: Retries indicates how many times this operation
                            has been retried
                          format: int32
                          type: integer
                        severity:
                          description: Severity indicates the severity of the error
                          enum:
                          - Critical
                          - High
                          - Medium
                          - Low
                          - Info
                          type: string
                        timestamp:
                          description: Timestamp when the error occurred
                          format: date-time
                          type: string
                      required:
                      - code
                      - component
                      - message
                      - retries
                      - timestamp
                      type: object
                    lastHealthCheck:
                      description: LastHealthCheck is when the endpoint was last health
                        checked
                      format: date-time
                      type: string
                    name:
                      description: Name identifies the endpoint
                      type: string
                    tags:
                      description: Tags are the Tailscale tags associated with this
                        endpoint
                      items:
                        type: string
                      type: array
                    tailscaleIP:
                      description: TailscaleIP is the endpoint's Tailscale IP
                      type: string
                    weight:
                      description: Weight is the current load balancing weight
                      format: int32
                      type: integer
                  required:
                  - discoverySource
                  - healthStatus
                  - name
                  - tailscaleIP
                  type: object
                type: array
              healthyEndpoints:
                description: HealthyEndpoints is the count of endpoints passing health
                  checks
                type: integer
              lastSync:
                description: LastSync indicates when endpoint discovery last succeeded
                format: date-time
                type: string
              operationalMetrics:
                description: OperationalMetrics provides performance and operational
                  insights
                properties:
                  apiCallCount:
                    description: APICallCount total API calls made to Tailscale
                    format: int64
                    type: integer
                  apiRateLimitHits:
                    description: APIRateLimitHits number of times rate limits were
                      hit
                    format: int64
                    type: integer
                  averageReconcileTime:
                    description: AverageReconcileTime average reconciliation duration
                    type: string
                  errorRate:
                    description: ErrorRate percentage of failed operations as a string
                      (e.g., "15.5%")
                    type: string
                  failedReconciles:
                    description: FailedReconciles number of failed reconciliations
                    format: int64
                    type: integer
                  lastReconcileTime:
                    description: LastReconcileTime when the last reconciliation occurred
                    format: date-time
                    type: string
                  reconcileCount:
                    description: ReconcileCount total number of reconciliations
                    format: int64
                    type: integer
                  reconcileDuration:
                    description: ReconcileDuration how long the last reconciliation
                      took
                    type: string
                  successfulReconciles:
                    description: SuccessfulReconciles number of successful reconciliations
                    format: int64
                    type: integer
                  throughputPerHour:
                    description: ThroughputPerHour operations completed per hour
                    format: int64
                    type: integer
                required:
                - failedReconciles
                - lastReconcileTime
                - reconcileCount
                - successfulReconciles
                type: object
              recentErrors:
                description: RecentErrors tracks recent operational errors with context
                items:
                  description: DetailedError provides comprehensive error information
                    with context
                  properties:
                    code:
                      description: Code is a machine-readable error code
                      type: string
                    component:
                      description: Component identifies which component generated
                        the error
                      enum:
                      - Controller
                      - ExtensionServer
                      - TailscaleAPI
                      - ServiceDiscovery
                      - RouteGeneration
                      - Validation
                      - StatefulSet
                      - HealthCheck
                      - OAuth
                      - PolicyEngine
                      type: string
                    context:
                      additionalProperties:
                        type: string
                      description: Context provides additional context about the error
                      type: object
                    httpStatusCode:
                      description: HTTPStatusCode provides HTTP status code for API-related
                        errors
                      format: int32
                      type: integer
                    lastRetry:
                      description: LastRetry timestamp of the last retry attempt
                      format: date-time
                      type: string
                    message:
                      description: Message is a human-readable error message
                      type: string
                    resolutionHint:
                      description: ResolutionHint provides guidance on how to resolve
                        the error
                      type: string
                    resourceRef:
                      description: ResourceRef identifies the specific resource that
                        caused the error
                      properties:
                        group:
                          description: Group is the group of the target resource.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          description: Kind is the kind of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the target resource.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: Namespace is the namespace of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        sectionName:
                          description: SectionName is the name of a section within
                            the target resource.
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - group
                      - kind
                      - name
                      type: object
                    retries:
                      description: Retries indicates how many times this operation
                        has been retried
                      format: int32
                      type: integer
                    severity:
                      description: Severity indicates the severity of the error
                      enum:
                      - Critical
                      - High
                      - Medium
                      - Low
                      - Info
                      type: string
                    timestamp:
                      description: Timestamp when the error occurred
                      format: date-time
                      type: string
                  required:
                  - code
                  - component
                  - message
                  - retries
                  - timestamp
                  type: object
                type: array
                x-kubernetes-list-type: atomic
              statefulSetRefs:
                description: StatefulSetRefs tracks the StatefulSets created for endpoint
                  connections
                items:
                  description: StatefulSetReference tracks a StatefulSet created for
                    an endpoint connection
                  properties:
                    connectionType:
                      description: ConnectionType indicates whether this is an ingress
                        or egress connection
                      enum:
                      - ingress
                      - egress
                      type: string
                    desiredReplicas:
                      description: DesiredReplicas desired number of replicas
                      format: int32
                      type: integer
                    endpointName:
                      description: EndpointName identifies which endpoint this StatefulSet
                        serves
                      type: string
                    errorMessage:
                      description: ErrorMessage provides context if the StatefulSet
                        is in an error state
                      type: string
                    lastStatusChange:
                      description: LastStatusChange when the status last changed
                      format: date-time
                      type: string
                    name:
                      description: Name of the StatefulSet
                      type: string
                    namespace:
                      description: Namespace of the StatefulSet
                      type: string
                    readyReplicas:
                      description: ReadyReplicas number of ready replicas
                      format: int32
                      type: integer
                    status:
                      description: Status indicates the current state of the StatefulSet
                      enum:
                      - Ready
                      - Pending
                      - Failed
                      - Scaling
                      - Unknown
                      type: string
                  required:
                  - connectionType
                  - endpointName
                  - name
                  - namespace
                  type: object
                type: array
              tagSelectorResults:
                description: TagSelectorResults provides results of tag selector matching
                items:
                  description: TagSelectorResult provides results of tag selector
                    matching
                  properties:
                    errorMessage:
                      description: ErrorMessage error message if selector application
                        failed
                      type: string
                    excludedDevices:
                      description: ExcludedDevices number of devices that were excluded
                      type: integer
                    lastApplied:
                      description: LastApplied when this selector was last applied
                      format: date-time
                      type: string
                    matchedDeviceNames:
                      description: MatchedDeviceNames names of devices that matched
                        (for debugging)
                      items:
                        type: string
                      type: array
                    matchedDevices:
                      description: MatchedDevices number of devices that matched this
                        selector
                      type: integer
                    selector:
                      description: Selector the tag selector that was applied
                      properties:
                        operator:
                          default: Exists
                          description: Operator defines the selection operator
                          enum:
                          - In
                          - NotIn
                          - Exists
                          - DoesNotExist
                          type: string
                        tag:
                          description: Tag is the full tag key (e.g., "tag:service",
                            "tag:environment")
                          type: string
                        values:
                          description: |-
                            Values are the tag values to match (for In/NotIn operators)
                            For "tag:environment", values might be ["production", "staging"]
                          items:
                            type: string
                          type: array
                      required:
                      - tag
                      type: object
                    success:
                      description: Success indicates if the selector was applied successfully
                      type: boolean
                  required:
                  - lastApplied
                  - matchedDevices
                  - selector
                  - success
                  type: object
                type: array
              totalEndpoints:
                description: TotalEndpoints is the total count of endpoints (discovered
                  + manually configured)
                type: integer
              unhealthyEndpoints:
                description: UnhealthyEndpoints is the count of endpoints failing
                  health checks
                type: integer
            required:
            - discoveredEndpoints
            - healthyEndpoints
            - totalEndpoints
            - unhealthyEndpoints
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.5
  name: tailscalegateways.gateway.tailscale.com
spec:
  group: gateway.tailscale.com
  names:
    categories:
    - tailscale-gateway
    kind: TailscaleGateway
    listKind: TailscaleGatewayList
    plural: tailscalegateways
    singular: tailscalegateway
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Referenced Envoy Gateway
      jsonPath: .spec.gatewayRef.name
      name: Gateway
      type: string
    - description: Number of configured tailnets
      jsonPath: .status.tailnetStatus.length
      name: Tailnets
      type: integer
    - description: Total discovered services
      jsonPath: .status.tailnetStatus[*].discoveredServices
      name: Services
      type: integer
    - description: Extension Server status
      jsonPath: .status.conditions[?(@.type=="ExtensionServerReady")].status
      name: Extension
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          TailscaleGateway integrates Envoy Gateway with Tailscale networking,
          enabling dynamic route injection based on tailnet topology.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: TailscaleGatewaySpec defines the desired state of TailscaleGateway
            properties:
              extensionServer:
                description: |-
                  ExtensionServer configures the gRPC extension server that implements
                  Envoy Gateway xDS hooks for dynamic route injection.
                properties:
                  image:
                    default: tailscale-gateway-extension:latest
                    description: Image defines the container image for the Extension
                      Server
                    type: string
                  port:
                    description: |-
                      Port is the port number for the gRPC extension server.
                      Defaults to 8443.
                    format: int32
                    type: integer
                  replicas:
                    default: 2
                    description: Replicas defines the number of Extension Server replicas
                    format: int32
                    minimum: 1
                    type: integer
                  resources:
                    description: Resources defines resource requirements for Extension
                      Server pods
                    properties:
                      claims:
                        description: |-
                          Claims lists the names of resources, defined in spec.resourceClaims,
                          that are used by this container.

                          This is an alpha field and requires enabling the
                          DynamicResourceAllocation feature gate.

                          This field is immutable. It can only be set for containers.
                        items:
                          description: ResourceClaim references one entry in PodSpec.ResourceClaims.
                          properties:
                            name:
                              description: |-
                                Name must match the name of one entry in pod.spec.resourceClaims of
                                the Pod where this field is used. It makes that resource available
                                inside a container.
                              type: string
                            request:
                              description: |-
                                Request is the name chosen for a request in the referenced claim.
                                If empty, everything from the claim is made available, otherwise
                                only the result of this request.
                              type: string
                          required:
                          - name
                          type: object
                        type: array
                        x-kubernetes-list-map-keys:
                        - name
                        x-kubernetes-list-type: map
                      limits:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: |-
                          Limits describes the maximum amount of compute resources allowed.
                          More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                        type: object
                      requests:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: |-
                          Requests describes the minimum amount of compute resources required.
                          If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,
                          otherwise to an implementation-defined value. Requests cannot exceed Limits.
                          More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                        type: object
                    type: object
                  serviceAccountName:
                    description: ServiceAccountName defines the ServiceAccount for
                      Extension Server pods
                    type: string
                  tls:
                    description: TLS configures TLS settings for the extension server.
                    properties:
                      certificateRef:
                        description: CertificateRef is a reference to a Secret containing
                          TLS certificates.
                        properties:
                          group:
                            default: ""
                            description: |-
                              Group is the group of the referent. For example, "gateway.networking.k8s.io".
                              When unspecified or empty string, core API group is inferred.
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Secret
                            description: Kind is kind of the referent. For example
                              "Secret".
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: Name is the name of the referent.
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the referenced object. When unspecified, the local
                              namespace is inferred.

                              Note that when a namespace different than the local namespace is specified,
                              a ReferenceGrant object is required in the referent namespace to allow that
                              namespace's owner to accept the reference. See the ReferenceGrant
                              documentation for details.

                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                        required:
                        - name
                        type: object
                      insecureSkipVerify:
                        description: |-
                          InsecureSkipVerify disables TLS certificate verification.
                          Should only be used for development/testing.
                        type: boolean
                    type: object
                required:
                - image
                - replicas
                type: object
              gatewayRef:
                description: |-
                  GatewayRef is a reference to the Envoy Gateway that this
                  TailscaleGateway should integrate with.
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is the kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  namespace:
                    description: Namespace is the namespace of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                    type: string
                  sectionName:
                    description: SectionName is the name of a section within the target
                      resource.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
              tailnets:
                description: Tailnets defines the Tailscale networks and their service
                  discovery configuration
                items:
                  description: TailnetConfig defines configuration for a specific
                    Tailscale network
                  properties:
                    name:
                      description: Name is a unique identifier for this tailnet within
                        the gateway
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                    routeGeneration:
                      description: RouteGeneration configures how routes are generated
                        for this tailnet
                      properties:
                        egress:
                          description: Egress configures routes for traffic from cluster
                            to tailnet
                          properties:
                            hostPattern:
                              default: '{service}.tailscale.local'
                              description: |-
                                HostPattern defines the hostname pattern for generated routes
                                Variables: {service}, {tailnet}, {domain}
                              type: string
                            pathPrefix:
                              default: /tailscale/{service}/
                              description: |-
                                PathPrefix defines the path prefix for generated routes
                                Variables: {service}, {tailnet}
                              type: string
                            protocol:
                              default: HTTP
                              description: Protocol defines the protocol for generated
                                routes
                              enum:
                              - HTTP
                              - HTTPS
                              type: string
                          required:
                          - hostPattern
                          - pathPrefix
                          - protocol
                          type: object
                        ingress:
                          description: Ingress configures routes for traffic from
                            tailnet to cluster
                          properties:
                            hostPattern:
                              default: '{service}.{tailnet}.gateway.local'
                              description: |-
                                HostPattern defines the hostname pattern for generated routes
                                Variables: {service}, {tailnet}, {domain}
                              type: string
                            pathPrefix:
                              default: /
                              description: PathPrefix defines the path prefix for
                                generated routes
                              type: string
                            protocol:
                              default: HTTPS
                              description: Protocol defines the protocol for generated
                                routes
                              enum:
                              - HTTP
                              - HTTPS
                              type: string
                          required:
                          - hostPattern
                          - pathPrefix
                          - protocol
                          type: object
                      type: object
                    serviceDiscovery:
                      description: ServiceDiscovery configures automatic service discovery
                        for this tailnet
                      properties:
                        enabled:
                          default: true
                          description: Enabled controls whether service discovery
                            is active for this tailnet
                          type: boolean
                        excludePatterns:
                          description: ExcludePatterns defines glob patterns for services
                            to exclude from discovery
                          items:
                            type: string
                          type: array
                        patterns:
                          description: Patterns defines glob patterns for services
                            to include in discovery
                          items:
                            type: string
                          type: array
                        syncInterval:
                          default: 30s
                          description: SyncInterval defines how often to sync with
                            Tailscale API
                          type: string
                      required:
                      - enabled
                      type: object
                    tailscaleTailnetRef:
                      description: TailscaleTailnetRef references the TailscaleTailnet
                        resource for this tailnet
                      properties:
                        group:
                          description: Group is the group of the target resource.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          description: Kind is the kind of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the target resource.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: Namespace is the namespace of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        sectionName:
                          description: SectionName is the name of a section within
                            the target resource.
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - group
                      - kind
                      - name
                      type: object
                  required:
                  - name
                  - tailscaleTailnetRef
                  type: object
                minItems: 1
                type: array
            required:
            - gatewayRef
            - tailnets
            type: object
          status:
            description: TailscaleGatewayStatus defines the observed state of TailscaleGateway
            properties:
              conditions:
                description: Conditions represent the current state of the TailscaleGateway
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              dependencyStatus:
                description: DependencyStatus tracks the status of dependent resources
                items:
                  description: DependencyStatus tracks the status of dependent resources
                  properties:
                    blockingReason:
                      description: BlockingReason explains why this dependency is
                        blocking operations
                      type: string
                    dependencyType:
                      description: DependencyType categorizes the type of dependency
                      enum:
                      - Required
                      - Optional
                      - Soft
                      - Hard
                      type: string
                    errorMessage:
                      description: ErrorMessage provides context if the dependency
                        is in an error state
                      type: string
                    failedConditions:
                      description: FailedConditions tracks which conditions have failed
                        on the dependency
                      items:
                        type: string
                      type: array
                    impact:
                      description: Impact describes the impact if this dependency
                        is not ready
                      type: string
                    lastChecked:
                      description: LastChecked when the dependency was last checked
                      format: date-time
                      type: string
                    readyConditions:
                      description: ReadyConditions tracks which conditions are ready
                        on the dependency
                      items:
                        type: string
                      type: array
                    resourceRef:
                      description: ResourceRef references the dependent resource
                      properties:
                        group:
                          description: Group is the group of the target resource.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          description: Kind is the kind of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the target resource.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: Namespace is the namespace of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        sectionName:
                          description: SectionName is the name of a section within
                            the target resource.
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - group
                      - kind
                      - name
                      type: object
                    status:
                      description: Status indicates the current state of the dependency
                      enum:
                      - Ready
                      - Pending
                      - Failed
                      - NotFound
                      - Unknown
                      - Conflicted
                      type: string
                    version:
                      description: Version tracks the resource version of the dependency
                      type: string
                  required:
                  - lastChecked
                  - resourceRef
                  - status
                  type: object
                type: array
              extensionServerStatus:
                description: ExtensionServerStatus provides status for the Extension
                  Server
                properties:
                  deploymentErrors:
                    description: DeploymentErrors tracks deployment-related errors
                    items:
                      description: DetailedError provides comprehensive error information
                        with context
                      properties:
                        code:
                          description: Code is a machine-readable error code
                          type: string
                        component:
                          description: Component identifies which component generated
                            the error
                          enum:
                          - Controller
                          - ExtensionServer
                          - TailscaleAPI
                          - ServiceDiscovery
                          - RouteGeneration
                          - Validation
                          - StatefulSet
                          - HealthCheck
                          - OAuth
                          - PolicyEngine
                          type: string
                        context:
                          additionalProperties:
                            type: string
                          description: Context provides additional context about the
                            error
                          type: object
                        httpStatusCode:
                          description: HTTPStatusCode provides HTTP status code for
                            API-related errors
                          format: int32
                          type: integer
                        lastRetry:
                          description: LastRetry timestamp of the last retry attempt
                          format: date-time
                          type: string
                        message:
                          description: Message is a human-readable error message
                          type: string
                        resolutionHint:
                          description: ResolutionHint provides guidance on how to
                            resolve the error
                          type: string
                        resourceRef:
                          description: ResourceRef identifies the specific resource
                            that caused the error
                          properties:
                            group:
                              description: Group is the group of the target resource.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              description: Kind is the kind of the target resource.
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the target resource.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: Namespace is the namespace of the target
                                resource.
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            sectionName:
                              description: SectionName is the name of a section within
                                the target resource.
                              maxLength: 253
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                          required:
                          - group
                          - kind
                          - name
                          type: object
                        retries:
                          description: Retries indicates how many times this operation
                            has been retried
                          format: int32
                          type: integer
                        severity:
                          description: Severity indicates the severity of the error
                          enum:
                          - Critical
                          - High
                          - Medium
                          - Low
                          - Info
                          type: string
                        timestamp:
                          description: Timestamp when the error occurred
                          format: date-time
                          type: string
                      required:
                      - code
                      - component
                      - message
                      - retries
                      - timestamp
                      type: object
                    type: array
                  desiredReplicas:
                    description: DesiredReplicas indicates the desired number of Extension
                      Server replicas
                    format: int32
                    type: integer
                  hookCallMetrics:
                    description: HookCallMetrics provides metrics about hook call
                      performance
                    properties:
                      averageResponseTime:
                        description: AverageResponseTime average hook call response
                          time
                        type: string
                      failedCalls:
                        description: FailedCalls number of failed hook calls
                        format: int64
                        type: integer
                      hookTypeMetrics:
                        additionalProperties:
                          description: HookTypeMetric provides metrics for a specific
                            hook type
                          properties:
                            averageResponseTime:
                              description: AverageResponseTime average response time
                                for this hook type
                              type: string
                            calls:
                              description: Calls number of calls for this hook type
                              format: int64
                              type: integer
                            failures:
                              description: Failures number of failed calls
                              format: int64
                              type: integer
                            successes:
                              description: Successes number of successful calls
                              format: int64
                              type: integer
                          required:
                          - calls
                          - failures
                          - successes
                          type: object
                        description: HookTypeMetrics per-hook-type metrics
                        type: object
                      lastCallDuration:
                        description: LastCallDuration duration of the last hook call
                        type: string
                      successfulCalls:
                        description: SuccessfulCalls number of successful hook calls
                        format: int64
                        type: integer
                      totalCalls:
                        description: TotalCalls total number of hook calls
                        format: int64
                        type: integer
                    required:
                    - failedCalls
                    - successfulCalls
                    - totalCalls
                    type: object
                  lastHookCall:
                    description: LastHookCall is the timestamp of the last successful
                      hook call.
                    format: date-time
                    type: string
                  ready:
                    description: Ready indicates if the extension server is ready
                      to accept connections.
                    type: boolean
                  readyReplicas:
                    description: ReadyReplicas indicates how many Extension Server
                      replicas are ready
                    format: int32
                    type: integer
                  replicaStatus:
                    description: ReplicaStatus provides detailed status for each replica
                    items:
                      description: ReplicaStatus provides detailed status for an extension
                        server replica
                      properties:
                        errors:
                          description: Errors any errors from this replica
                          items:
                            description: DetailedError provides comprehensive error
                              information with context
                            properties:
                              code:
                                description: Code is a machine-readable error code
                                type: string
                              component:
                                description: Component identifies which component
                                  generated the error
                                enum:
                                - Controller
                                - ExtensionServer
                                - TailscaleAPI
                                - ServiceDiscovery
                                - RouteGeneration
                                - Validation
                                - StatefulSet
                                - HealthCheck
                                - OAuth
                                - PolicyEngine
                                type: string
                              context:
                                additionalProperties:
                                  type: string
                                description: Context provides additional context about
                                  the error
                                type: object
                              httpStatusCode:
                                description: HTTPStatusCode provides HTTP status code
                                  for API-related errors
                                format: int32
                                type: integer
                              lastRetry:
                                description: LastRetry timestamp of the last retry
                                  attempt
                                format: date-time
                                type: string
                              message:
                                description: Message is a human-readable error message
                                type: string
                              resolutionHint:
                                description: ResolutionHint provides guidance on how
                                  to resolve the error
                                type: string
                              resourceRef:
                                description: ResourceRef identifies the specific resource
                                  that caused the error
                                properties:
                                  group:
                                    description: Group is the group of the target
                                      resource.
                                    maxLength: 253
                                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                    type: string
                                  kind:
                                    description: Kind is the kind of the target resource.
                                    maxLength: 63
                                    minLength: 1
                                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                    type: string
                                  name:
                                    description: Name is the name of the target resource.
                                    maxLength: 253
                                    minLength: 1
                                    type: string
                                  namespace:
                                    description: Namespace is the namespace of the
                                      target resource.
                                    maxLength: 63
                                    minLength: 1
                                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                    type: string
                                  sectionName:
                                    description: SectionName is the name of a section
                                      within the target resource.
                                    maxLength: 253
                                    minLength: 1
                                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                    type: string
                                required:
                                - group
                                - kind
                                - name
                                type: object
                              retries:
                                description: Retries indicates how many times this
                                  operation has been retried
                                format: int32
                                type: integer
                              severity:
                                description: Severity indicates the severity of the
                                  error
                                enum:
                                - Critical
                                - High
                                - Medium
                                - Low
                                - Info
                                type: string
                              timestamp:
                                description: Timestamp when the error occurred
                                format: date-time
                                type: string
                            required:
                            - code
                            - component
                            - message
                            - retries
                            - timestamp
                            type: object
                          type: array
                        lastHealthCheck:
                          description: LastHealthCheck timestamp of last health check
                          format: date-time
                          type: string
                        name:
                          description: Name of the replica pod
                          type: string
                        phase:
                          description: Phase current phase of the replica
                          enum:
                          - Pending
                          - Running
                          - Succeeded
                          - Failed
                          - Unknown
                          type: string
                        ready:
                          description: Ready indicates if the replica is ready
                          type: boolean
                        version:
                          description: Version the image version running in this replica
                          type: string
                      required:
                      - name
                      - phase
                      - ready
                      type: object
                    type: array
                  serviceEndpoint:
                    description: ServiceEndpoint provides the gRPC endpoint for the
                      Extension Server
                    type: string
                required:
                - desiredReplicas
                - ready
                - readyReplicas
                type: object
              generatedRoutes:
                description: GeneratedRoutes tracks the number of routes generated
                  by this gateway
                properties:
                  egressRoutes:
                    description: EgressRoutes is the count of egress routes generated
                    type: integer
                  ingressRoutes:
                    description: IngressRoutes is the count of ingress routes generated
                    type: integer
                  lastGeneration:
                    description: LastGeneration indicates when routes were last generated
                    format: date-time
                    type: string
                required:
                - egressRoutes
                - ingressRoutes
                type: object
              httpRouteRefs:
                description: HTTPRouteRefs tracks which HTTPRoutes are being processed
                items:
                  description: LocalPolicyTargetReference identifies a target for
                    policy attachment
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is the kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    namespace:
                      description: Namespace is the namespace of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                    sectionName:
                      description: SectionName is the name of a section within the
                        target resource.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                type: array
              operationalMetrics:
                description: OperationalMetrics provides performance and operational
                  insights
                properties:
                  apiCallCount:
                    description: APICallCount total API calls made to Tailscale
                    format: int64
                    type: integer
                  apiRateLimitHits:
                    description: APIRateLimitHits number of times rate limits were
                      hit
                    format: int64
                    type: integer
                  averageReconcileTime:
                    description: AverageReconcileTime average reconciliation duration
                    type: string
                  errorRate:
                    description: ErrorRate percentage of failed operations as a string
                      (e.g., "15.5%")
                    type: string
                  failedReconciles:
                    description: FailedReconciles number of failed reconciliations
                    format: int64
                    type: integer
                  lastReconcileTime:
                    description: LastReconcileTime when the last reconciliation occurred
                    format: date-time
                    type: string
                  reconcileCount:
                    description: ReconcileCount total number of reconciliations
                    format: int64
                    type: integer
                  reconcileDuration:
                    description: ReconcileDuration how long the last reconciliation
                      took
                    type: string
                  successfulReconciles:
                    description: SuccessfulReconciles number of successful reconciliations
                    format: int64
                    type: integer
                  throughputPerHour:
                    description: ThroughputPerHour operations completed per hour
                    format: int64
                    type: integer
                required:
                - failedReconciles
                - lastReconcileTime
                - reconcileCount
                - successfulReconciles
                type: object
              recentErrors:
                description: RecentErrors tracks recent operational errors with context
                items:
                  description: DetailedError provides comprehensive error information
                    with context
                  properties:
                    code:
                      description: Code is a machine-readable error code
                      type: string
                    component:
                      description: Component identifies which component generated
                        the error
                      enum:
                      - Controller
                      - ExtensionServer
                      - TailscaleAPI
                      - ServiceDiscovery
                      - RouteGeneration
                      - Validation
                      - StatefulSet
                      - HealthCheck
                      - OAuth
                      - PolicyEngine
                      type: string
                    context:
                      additionalProperties:
                        type: string
                      description: Context provides additional context about the error
                      type: object
                    httpStatusCode:
                      description: HTTPStatusCode provides HTTP status code for API-related
                        errors
                      format: int32
                      type: integer
                    lastRetry:
                      description: LastRetry timestamp of the last retry attempt
                      format: date-time
                      type: string
                    message:
                      description: Message is a human-readable error message
                      type: string
                    resolutionHint:
                      description: ResolutionHint provides guidance on how to resolve
                        the error
                      type: string
                    resourceRef:
                      description: ResourceRef identifies the specific resource that
                        caused the error
                      properties:
                        group:
                          description: Group is the group of the target resource.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          description: Kind is the kind of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the target resource.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: Namespace is the namespace of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        sectionName:
                          description: SectionName is the name of a section within
                            the target resource.
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - group
                      - kind
                      - name
                      type: object
                    retries:
                      description: Retries indicates how many times this operation
                        has been retried
                      format: int32
                      type: integer
                    severity:
                      description: Severity indicates the severity of the error
                      enum:
                      - Critical
                      - High
                      - Medium
                      - Low
                      - Info
                      type: string
                    timestamp:
                      description: Timestamp when the error occurred
                      format: date-time
                      type: string
                  required:
                  - code
                  - component
                  - message
                  - retries
                  - timestamp
                  type: object
                type: array
                x-kubernetes-list-type: atomic
              services:
                description: Services tracks VIP services managed by this gateway
                items:
                  description: ServiceInfo provides information about a VIP service
                    managed by this gateway
                  properties:
                    consumerClusters:
                      description: ConsumerClusters lists which clusters are consuming
                        this service
                      items:
                        type: string
                      type: array
                    consumerCount:
                      description: ConsumerCount is the number of clusters consuming
                        this service
                      type: integer
                    createdAt:
                      description: CreatedAt indicates when this service was created
                      format: date-time
                      type: string
                    errorMessage:
                      description: ErrorMessage provides context if the service is
                        in an error state
                      type: string
                    lastUpdated:
                      description: LastUpdated indicates when this service was last
                        updated
                      format: date-time
                      type: string
                    name:
                      description: Name is the service name
                      type: string
                    ownerCluster:
                      description: OwnerCluster indicates which cluster/operator owns
                        this service
                      type: string
                    status:
                      description: Status indicates the current state of this service
                      enum:
                      - Ready
                      - Pending
                      - Failed
                      - Unknown
                      type: string
                    vipAddresses:
                      description: VIPAddresses are the VIP addresses allocated to
                        this service
                      items:
                        type: string
                      type: array
                  required:
                  - consumerCount
                  - name
                  - ownerCluster
                  - status
                  type: object
                type: array
              tailnetStatus:
                description: TailnetStatus provides status for each configured tailnet
                items:
                  description: TailnetStatus provides status information for a specific
                    tailnet
                  properties:
                    apiStatus:
                      description: APIStatus provides details about Tailscale API
                        communication
                      properties:
                        averageResponseTime:
                          description: AverageResponseTime average API response time
                          type: string
                        baseURL:
                          description: BaseURL the API base URL being used
                          type: string
                        capabilities:
                          description: Capabilities lists available API capabilities
                          items:
                            type: string
                          type: array
                        connected:
                          description: Connected indicates if API communication is
                            working
                          type: boolean
                        lastError:
                          description: LastError provides details about the most recent
                            API error
                          properties:
                            code:
                              description: Code is a machine-readable error code
                              type: string
                            component:
                              description: Component identifies which component generated
                                the error
                              enum:
                              - Controller
                              - ExtensionServer
                              - TailscaleAPI
                              - ServiceDiscovery
                              - RouteGeneration
                              - Validation
                              - StatefulSet
                              - HealthCheck
                              - OAuth
                              - PolicyEngine
                              type: string
                            context:
                              additionalProperties:
                                type: string
                              description: Context provides additional context about
                                the error
                              type: object
                            httpStatusCode:
                              description: HTTPStatusCode provides HTTP status code
                                for API-related errors
                              format: int32
                              type: integer
                            lastRetry:
                              description: LastRetry timestamp of the last retry attempt
                              format: date-time
                              type: string
                            message:
                              description: Message is a human-readable error message
                              type: string
                            resolutionHint:
                              description: ResolutionHint provides guidance on how
                                to resolve the error
                              type: string
                            resourceRef:
                              description: ResourceRef identifies the specific resource
                                that caused the error
                              properties:
                                group:
                                  description: Group is the group of the target resource.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  description: Kind is the kind of the target resource.
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                                name:
                                  description: Name is the name of the target resource.
                                  maxLength: 253
                                  minLength: 1
                                  type: string
                                namespace:
                                  description: Namespace is the namespace of the target
                                    resource.
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                  type: string
                                sectionName:
                                  description: SectionName is the name of a section
                                    within the target resource.
                                  maxLength: 253
                                  minLength: 1
                                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                              required:
                              - group
                              - kind
                              - name
                              type: object
                            retries:
                              description: Retries indicates how many times this operation
                                has been retried
                              format: int32
                              type: integer
                            severity:
                              description: Severity indicates the severity of the
                                error
                              enum:
                              - Critical
                              - High
                              - Medium
                              - Low
                              - Info
                              type: string
                            timestamp:
                              description: Timestamp when the error occurred
                              format: date-time
                              type: string
                          required:
                          - code
                          - component
                          - message
                          - retries
                          - timestamp
                          type: object
                        lastSuccessfulCall:
                          description: LastSuccessfulCall timestamp of last successful
                            API call
                          format: date-time
                          type: string
                        rateLimitRemaining:
                          description: RateLimitRemaining API rate limit remaining
                          format: int32
                          type: integer
                        rateLimitReset:
                          description: RateLimitReset when the rate limit resets
                          format: date-time
                          type: string
                        requestCount:
                          description: RequestCount total number of API requests made
                          format: int64
                          type: integer
                        userAgent:
                          description: UserAgent the user agent string being used
                          type: string
                      required:
                      - connected
                      type: object
                    conditions:
                      description: Conditions represent the current state of this
                        tailnet
                      items:
                        description: Condition contains details for one aspect of
                          the current state of this API Resource.
                        properties:
                          lastTransitionTime:
                            description: |-
                              lastTransitionTime is the last time the condition transitioned from one status to another.
                              This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                            format: date-time
                            type: string
                          message:
                            description: |-
                              message is a human readable message indicating details about the transition.
                              This may be an empty string.
                            maxLength: 32768
                            type: string
                          observedGeneration:
                            description: |-
                              observedGeneration represents the .metadata.generation that the condition was set based upon.
                              For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                              with respect to the current state of the instance.
                            format: int64
                            minimum: 0
                            type: integer
                          reason:
                            description: |-
                              reason contains a programmatic identifier indicating the reason for the condition's last transition.
                              Producers of specific condition types may define expected values and meanings for this field,
                              and whether the values are considered a guaranteed API.
                              The value should be a CamelCase string.
                              This field may not be empty.
                            maxLength: 1024
                            minLength: 1
                            pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                            type: string
                          status:
                            description: status of the condition, one of True, False,
                              Unknown.
                            enum:
                            - "True"
                            - "False"
                            - Unknown
                            type: string
                          type:
                            description: type of condition in CamelCase or in foo.example.com/CamelCase.
                            maxLength: 316
                            pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                            type: string
                        required:
                        - lastTransitionTime
                        - message
                        - reason
                        - status
                        - type
                        type: object
                      type: array
                      x-kubernetes-list-map-keys:
                      - type
                      x-kubernetes-list-type: map
                    discoveredServices:
                      description: DiscoveredServices is the count of services discovered
                        in this tailnet
                      type: integer
                    lastError:
                      description: LastError provides context about the most recent
                        error
                      properties:
                        code:
                          description: Code is a machine-readable error code
                          type: string
                        component:
                          description: Component identifies which component generated
                            the error
                          enum:
                          - Controller
                          - ExtensionServer
                          - TailscaleAPI
                          - ServiceDiscovery
                          - RouteGeneration
                          - Validation
                          - StatefulSet
                          - HealthCheck
                          - OAuth
                          - PolicyEngine
                          type: string
                        context:
                          additionalProperties:
                            type: string
                          description: Context provides additional context about the
                            error
                          type: object
                        httpStatusCode:
                          description: HTTPStatusCode provides HTTP status code for
                            API-related errors
                          format: int32
                          type: integer
                        lastRetry:
                          description: LastRetry timestamp of the last retry attempt
                          format: date-time
                          type: string
                        message:
                          description: Message is a human-readable error message
                          type: string
                        resolutionHint:
                          description: ResolutionHint provides guidance on how to
                            resolve the error
                          type: string
                        resourceRef:
                          description: ResourceRef identifies the specific resource
                            that caused the error
                          properties:
                            group:
                              description: Group is the group of the target resource.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              description: Kind is the kind of the target resource.
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the target resource.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: Namespace is the namespace of the target
                                resource.
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            sectionName:
                              description: SectionName is the name of a section within
                                the target resource.
                              maxLength: 253
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                          required:
                          - group
                          - kind
                          - name
                          type: object
                        retries:
                          description: Retries indicates how many times this operation
                            has been retried
                          format: int32
                          type: integer
                        severity:
                          description: Severity indicates the severity of the error
                          enum:
                          - Critical
                          - High
                          - Medium
                          - Low
                          - Info
                          type: string
                        timestamp:
                          description: Timestamp when the error occurred
                          format: date-time
                          type: string
                      required:
                      - code
                      - component
                      - message
                      - retries
                      - timestamp
                      type: object
                    lastSync:
                      description: LastSync indicates when service discovery last
                        succeeded
                      format: date-time
                      type: string
                    name:
                      description: Name identifies the tailnet
                      type: string
                    serviceDiscoveryDetails:
                      description: ServiceDiscoveryDetails provides detailed service
                        discovery information
                      properties:
                        discoveryErrors:
                          description: DiscoveryErrors any errors during service discovery
                          items:
                            description: DetailedError provides comprehensive error
                              information with context
                            properties:
                              code:
                                description: Code is a machine-readable error code
                                type: string
                              component:
                                description: Component identifies which component
                                  generated the error
                                enum:
                                - Controller
                                - ExtensionServer
                                - TailscaleAPI
                                - ServiceDiscovery
                                - RouteGeneration
                                - Validation
                                - StatefulSet
                                - HealthCheck
                                - OAuth
                                - PolicyEngine
                                type: string
                              context:
                                additionalProperties:
                                  type: string
                                description: Context provides additional context about
                                  the error
                                type: object
                              httpStatusCode:
                                description: HTTPStatusCode provides HTTP status code
                                  for API-related errors
                                format: int32
                                type: integer
                              lastRetry:
                                description: LastRetry timestamp of the last retry
                                  attempt
                                format: date-time
                                type: string
                              message:
                                description: Message is a human-readable error message
                                type: string
                              resolutionHint:
                                description: ResolutionHint provides guidance on how
                                  to resolve the error
                                type: string
                              resourceRef:
                                description: ResourceRef identifies the specific resource
                                  that caused the error
                                properties:
                                  group:
                                    description: Group is the group of the target
                                      resource.
                                    maxLength: 253
                                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                    type: string
                                  kind:
                                    description: Kind is the kind of the target resource.
                                    maxLength: 63
                                    minLength: 1
                                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                    type: string
                                  name:
                                    description: Name is the name of the target resource.
                                    maxLength: 253
                                    minLength: 1
                                    type: string
                                  namespace:
                                    description: Namespace is the namespace of the
                                      target resource.
                                    maxLength: 63
                                    minLength: 1
                                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                    type: string
                                  sectionName:
                                    description: SectionName is the name of a section
                                      within the target resource.
                                    maxLength: 253
                                    minLength: 1
                                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                    type: string
                                required:
                                - group
                                - kind
                                - name
                                type: object
                              retries:
                                description: Retries indicates how many times this
                                  operation has been retried
                                format: int32
                                type: integer
                              severity:
                                description: Severity indicates the severity of the
                                  error
                                enum:
                                - Critical
                                - High
                                - Medium
                                - Low
                                - Info
                                type: string
                              timestamp:
                                description: Timestamp when the error occurred
                                format: date-time
                                type: string
                            required:
                            - code
                            - component
                            - message
                            - retries
                            - timestamp
                            type: object
                          type: array
                        filteredServices:
                          description: FilteredServices services after applying include/exclude
                            patterns
                          type: integer
                        lastDiscoveryDuration:
                          description: LastDiscoveryDuration how long service discovery
                            took
                          type: string
                        patternsExcluded:
                          description: PatternsExcluded which patterns excluded services
                          items:
                            type: string
                          type: array
                        patternsMatched:
                          description: PatternsMatched which patterns matched during
                            discovery
                          items:
                            type: string
                          type: array
                        totalServices:
                          description: TotalServices total number of services in the
                            tailnet
                          type: integer
                      required:
                      - filteredServices
                      - totalServices
                      type: object
                  required:
                  - discoveredServices
                  - name
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.5
  name: tailscaleroutepolicies.gateway.tailscale.com
spec:
  group: gateway.tailscale.com
  names:
    kind: TailscaleRoutePolicy
    listKind: TailscaleRoutePolicyList
    plural: tailscaleroutepolicies
    singular: tailscaleroutepolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Status of the route policy.
      jsonPath: .status.conditions[?(@.type == "Ready")].reason
      name: Status
      type: string
    - description: Target gateway.
      jsonPath: .spec.targetRefs[0].name
      name: Gateway
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          TailscaleRoutePolicy defines advanced routing policies for tailnet traffic
          through Envoy Gateway, supporting conditions, transformations, and actions.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: TailscaleRoutePolicySpec defines the desired routing policy
            properties:
              rules:
                description: Rules define the routing policy rules to apply.
                items:
                  description: PolicyRule defines a single routing policy rule
                  properties:
                    actions:
                      description: Actions define what should happen when this rule
                        matches.
                      items:
                        description: PolicyAction defines an action to take when a
                          rule matches
                        properties:
                          redirect:
                            description: Redirect configures HTTP redirect responses.
                            properties:
                              hostname:
                                description: Hostname is the hostname to redirect
                                  to.
                                type: string
                              path:
                                description: Path configures path replacement for
                                  redirects.
                                properties:
                                  type:
                                    description: Type specifies how to replace the
                                      path.
                                    enum:
                                    - ReplaceFullPath
                                    - ReplacePrefixMatch
                                    type: string
                                  value:
                                    description: Value is the replacement value.
                                    type: string
                                required:
                                - type
                                - value
                                type: object
                              port:
                                description: Port is the port to redirect to.
                                format: int32
                                maximum: 65535
                                minimum: 1
                                type: integer
                              scheme:
                                description: Scheme is the scheme to redirect to.
                                type: string
                              statusCode:
                                description: StatusCode is the HTTP status code for
                                  the redirect.
                                enum:
                                - 301
                                - 302
                                format: int32
                                type: integer
                            type: object
                          requestHeaderModifier:
                            description: RequestHeaderModifier configures request
                              header modifications.
                            properties:
                              add:
                                description: Add configures headers to add, preserving
                                  existing values.
                                items:
                                  description: Header represents an HTTP header
                                  properties:
                                    name:
                                      description: Name is the header name.
                                      type: string
                                    value:
                                      description: Value is the header value.
                                      type: string
                                  required:
                                  - name
                                  - value
                                  type: object
                                type: array
                              remove:
                                description: Remove configures headers to remove.
                                items:
                                  type: string
                                type: array
                              set:
                                description: Set configures headers to set, overwriting
                                  existing values.
                                items:
                                  description: Header represents an HTTP header
                                  properties:
                                    name:
                                      description: Name is the header name.
                                      type: string
                                    value:
                                      description: Value is the header value.
                                      type: string
                                  required:
                                  - name
                                  - value
                                  type: object
                                type: array
                            type: object
                          responseHeaderModifier:
                            description: ResponseHeaderModifier configures response
                              header modifications.
                            properties:
                              add:
                                description: Add configures headers to add, preserving
                                  existing values.
                                items:
                                  description: Header represents an HTTP header
                                  properties:
                                    name:
                                      description: Name is the header name.
                                      type: string
                                    value:
                                      description: Value is the header value.
                                      type: string
                                  required:
                                  - name
                                  - value
                                  type: object
                                type: array
                              remove:
                                description: Remove configures headers to remove.
                                items:
                                  type: string
                                type: array
                              set:
                                description: Set configures headers to set, overwriting
                                  existing values.
                                items:
                                  description: Header represents an HTTP header
                                  properties:
                                    name:
                                      description: Name is the header name.
                                      type: string
                                    value:
                                      description: Value is the header value.
                                      type: string
                                  required:
                                  - name
                                  - value
                                  type: object
                                type: array
                            type: object
                          route:
                            description: Route configures routing to a specific backend.
                            properties:
                              backendRefs:
                                description: BackendRefs are the backends to route
                                  traffic to.
                                items:
                                  description: BackendRef references a backend service
                                  properties:
                                    group:
                                      default: ""
                                      description: |-
                                        Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                        When unspecified or empty string, core API group is inferred.
                                      maxLength: 253
                                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                      type: string
                                    kind:
                                      default: Service
                                      description: |-
                                        Kind is the Kubernetes resource kind of the referent. For example
                                        "Service".

                                        Defaults to "Service" when not specified.

                                        ExternalName services can refer to CNAME DNS records that may live
                                        outside of the cluster and as such are difficult to reason about in
                                        terms of conformance. They also may not be safe to forward to (see
                                        CVE-2021-25740 for more information). Implementations SHOULD NOT
                                        support ExternalName Services.

                                        Support: Core (Services with a type other than ExternalName)

                                        Support: Implementation-specific (Services with type ExternalName)
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                      type: string
                                    name:
                                      description: Name is the name of the referent.
                                      maxLength: 253
                                      minLength: 1
                                      type: string
                                    namespace:
                                      description: |-
                                        Namespace is the namespace of the backend. When unspecified, the local
                                        namespace is inferred.

                                        Note that when a namespace different than the local namespace is specified,
                                        a ReferenceGrant object is required in the referent namespace to allow that
                                        namespace's owner to accept the reference. See the ReferenceGrant
                                        documentation for details.

                                        Support: Core
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                      type: string
                                    port:
                                      description: |-
                                        Port specifies the destination port number to use for this resource.
                                        Port is required when the referent is a Kubernetes Service. In this
                                        case, the port number is the service port number, not the target port.
                                        For other resources, destination port might be derived from the referent
                                        resource or this field.
                                      format: int32
                                      maximum: 65535
                                      minimum: 1
                                      type: integer
                                    weight:
                                      description: Weight configures the weight for
                                        load balancing.
                                      format: int32
                                      type: integer
                                  required:
                                  - name
                                  type: object
                                  x-kubernetes-validations:
                                  - message: Must have port for Service reference
                                    rule: '(size(self.group) == 0 && self.kind ==
                                      ''Service'') ? has(self.port) : true'
                                type: array
                              timeout:
                                description: Timeout configures timeouts for this
                                  route.
                                properties:
                                  backendRequest:
                                    description: BackendRequest is the timeout for
                                      backend requests.
                                    type: string
                                  request:
                                    description: Request is the timeout for the entire
                                      request.
                                    type: string
                                type: object
                            required:
                            - backendRefs
                            type: object
                          type:
                            description: Type specifies the type of action to take.
                            enum:
                            - Route
                            - Redirect
                            - Deny
                            - RequestHeaderModifier
                            - ResponseHeaderModifier
                            type: string
                        required:
                        - type
                        type: object
                      type: array
                    matches:
                      description: Matches define when this rule should be applied.
                      items:
                        description: PolicyMatch defines conditions for when a rule
                          should apply
                        properties:
                          headers:
                            description: Headers matches based on request headers.
                            items:
                              description: HeaderMatch matches based on request headers
                              properties:
                                name:
                                  description: Name is the header name to match.
                                  type: string
                                type:
                                  description: Type specifies how to match the header.
                                  enum:
                                  - Exact
                                  - RegularExpression
                                  type: string
                                value:
                                  description: Value is the header value to match
                                    against.
                                  type: string
                              required:
                              - name
                              - type
                              - value
                              type: object
                            type: array
                          method:
                            description: Method matches based on HTTP method.
                            properties:
                              methods:
                                description: Methods are the HTTP methods to match.
                                enum:
                                - GET
                                - HEAD
                                - POST
                                - PUT
                                - DELETE
                                - CONNECT
                                - OPTIONS
                                - TRACE
                                - PATCH
                                items:
                                  description: HTTPMethod represents an HTTP method
                                  type: string
                                type: array
                            required:
                            - methods
                            type: object
                          path:
                            description: Path matches based on the request path.
                            properties:
                              type:
                                description: Type specifies how to match the path.
                                enum:
                                - Exact
                                - PathPrefix
                                - RegularExpression
                                type: string
                              value:
                                description: Value is the path value to match against.
                                type: string
                            required:
                            - type
                            - value
                            type: object
                          tailnetDevice:
                            description: TailnetDevice matches based on characteristics
                              of the source tailnet device.
                            properties:
                              hostnames:
                                description: |-
                                  Hostnames matches devices by hostname patterns.
                                  Supports wildcards (*) for pattern matching.
                                items:
                                  type: string
                                type: array
                              ips:
                                description: |-
                                  IPs matches devices by their tailnet IP addresses.
                                  Supports CIDR notation for network ranges.
                                items:
                                  type: string
                                type: array
                              tags:
                                description: Tags matches devices that have any of
                                  the specified tags.
                                items:
                                  type: string
                                type: array
                              users:
                                description: Users matches devices owned by specific
                                  users.
                                items:
                                  type: string
                                type: array
                            type: object
                        type: object
                      type: array
                    name:
                      description: Name is an optional name for this rule for debugging
                        purposes.
                      type: string
                  required:
                  - actions
                  type: object
                type: array
              targetRefs:
                description: |-
                  TargetRefs identifies the targets that this policy applies to.
                  Can target Gateways, HTTPRoutes, or TailscaleGateways.
                items:
                  description: LocalPolicyTargetReference identifies a target for
                    policy attachment
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is the kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    namespace:
                      description: Namespace is the namespace of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                    sectionName:
                      description: SectionName is the name of a section within the
                        target resource.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                type: array
            required:
            - rules
            - targetRefs
            type: object
          status:
            description: TailscaleRoutePolicyStatus defines the observed state of
              TailscaleRoutePolicy
            properties:
              appliedTo:
                description: AppliedTo indicates which targets this policy has been
                  successfully applied to.
                items:
                  description: PolicyTargetStatus represents the status of policy
                    application to a target
                  properties:
                    applied:
                      description: Applied indicates if the policy was successfully
                        applied.
                      type: boolean
                    appliedRules:
                      description: AppliedRules number of rules successfully applied
                        to this target
                      format: int32
                      type: integer
                    errors:
                      description: Errors specific errors for this target
                      items:
                        description: DetailedError provides comprehensive error information
                          with context
                        properties:
                          code:
                            description: Code is a machine-readable error code
                            type: string
                          component:
                            description: Component identifies which component generated
                              the error
                            enum:
                            - Controller
                            - ExtensionServer
                            - TailscaleAPI
                            - ServiceDiscovery
                            - RouteGeneration
                            - Validation
                            - StatefulSet
                            - HealthCheck
                            - OAuth
                            - PolicyEngine
                            type: string
                          context:
                            additionalProperties:
                              type: string
                            description: Context provides additional context about
                              the error
                            type: object
                          httpStatusCode:
                            description: HTTPStatusCode provides HTTP status code
                              for API-related errors
                            format: int32
                            type: integer
                          lastRetry:
                            description: LastRetry timestamp of the last retry attempt
                            format: date-time
                            type: string
                          message:
                            description: Message is a human-readable error message
                            type: string
                          resolutionHint:
                            description: ResolutionHint provides guidance on how to
                              resolve the error
                            type: string
                          resourceRef:
                            description: ResourceRef identifies the specific resource
                              that caused the error
                            properties:
                              group:
                                description: Group is the group of the target resource.
                                maxLength: 253
                                pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                type: string
                              kind:
                                description: Kind is the kind of the target resource.
                                maxLength: 63
                                minLength: 1
                                pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                type: string
                              name:
                                description: Name is the name of the target resource.
                                maxLength: 253
                                minLength: 1
                                type: string
                              namespace:
                                description: Namespace is the namespace of the target
                                  resource.
                                maxLength: 63
                                minLength: 1
                                pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                type: string
                              sectionName:
                                description: SectionName is the name of a section
                                  within the target resource.
                                maxLength: 253
                                minLength: 1
                                pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                type: string
                            required:
                            - group
                            - kind
                            - name
                            type: object
                          retries:
                            description: Retries indicates how many times this operation
                              has been retried
                            format: int32
                            type: integer
                          severity:
                            description: Severity indicates the severity of the error
                            enum:
                            - Critical
                            - High
                            - Medium
                            - Low
                            - Info
                            type: string
                          timestamp:
                            description: Timestamp when the error occurred
                            format: date-time
                            type: string
                        required:
                        - code
                        - component
                        - message
                        - retries
                        - timestamp
                        type: object
                      type: array
                    lastApplied:
                      description: LastApplied timestamp when the policy was last
                        applied
                      format: date-time
                      type: string
                    message:
                      description: Message contains additional information about the
                        application status.
                      type: string
                    status:
                      description: Status indicates the current application state
                      enum:
                      - Applied
                      - Pending
                      - Failed
                      - Conflicted
                      - NotApplicable
                      type: string
                    targetRef:
                      description: TargetRef is the reference to the target.
                      properties:
                        group:
                          description: Group is the group of the target resource.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          description: Kind is the kind of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the target resource.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: Namespace is the namespace of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        sectionName:
                          description: SectionName is the name of a section within
                            the target resource.
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - group
                      - kind
                      - name
                      type: object
                    totalRules:
                      description: TotalRules total number of rules in the policy
                      format: int32
                      type: integer
                    version:
                      description: Version tracks the resource version of the target
                      type: string
                  required:
                  - applied
                  - targetRef
                  type: object
                type: array
              conditions:
                description: Conditions represent the current state of the policy.
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              operationalMetrics:
                description: OperationalMetrics provides performance and operational
                  insights
                properties:
                  apiCallCount:
                    description: APICallCount total API calls made to Tailscale
                    format: int64
                    type: integer
                  apiRateLimitHits:
                    description: APIRateLimitHits number of times rate limits were
                      hit
                    format: int64
                    type: integer
                  averageReconcileTime:
                    description: AverageReconcileTime average reconciliation duration
                    type: string
                  errorRate:
                    description: ErrorRate percentage of failed operations as a string
                      (e.g., "15.5%")
                    type: string
                  failedReconciles:
                    description: FailedReconciles number of failed reconciliations
                    format: int64
                    type: integer
                  lastReconcileTime:
                    description: LastReconcileTime when the last reconciliation occurred
                    format: date-time
                    type: string
                  reconcileCount:
                    description: ReconcileCount total number of reconciliations
                    format: int64
                    type: integer
                  reconcileDuration:
                    description: ReconcileDuration how long the last reconciliation
                      took
                    type: string
                  successfulReconciles:
                    description: SuccessfulReconciles number of successful reconciliations
                    format: int64
                    type: integer
                  throughputPerHour:
                    description: ThroughputPerHour operations completed per hour
                    format: int64
                    type: integer
                required:
                - failedReconciles
                - lastReconcileTime
                - reconcileCount
                - successfulReconciles
                type: object
              policyConflicts:
                description: PolicyConflicts tracks conflicts with other policies
                items:
                  description: PolicyConflict represents a conflict with another policy
                  properties:
                    conflictDescription:
                      description: ConflictDescription human-readable description
                        of the conflict
                      type: string
                    conflictType:
                      description: ConflictType describes the type of conflict
                      enum:
                      - OverlappingRule
                      - ConflictingAction
                      - PriorityConflict
                      - TargetConflict
                      type: string
                    conflictingPolicy:
                      description: ConflictingPolicy reference to the conflicting
                        policy
                      properties:
                        group:
                          description: Group is the group of the target resource.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          description: Kind is the kind of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the target resource.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: Namespace is the namespace of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        sectionName:
                          description: SectionName is the name of a section within
                            the target resource.
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - group
                      - kind
                      - name
                      type: object
                    detectedAt:
                      description: DetectedAt timestamp when the conflict was detected
                      format: date-time
                      type: string
                    resolution:
                      description: Resolution describes how the conflict was resolved
                      enum:
                      - Ignored
                      - Overridden
                      - Merged
                      - Failed
                      type: string
                    severity:
                      description: Severity indicates the severity of the conflict
                      enum:
                      - Critical
                      - Warning
                      - Info
                      type: string
                  required:
                  - conflictDescription
                  - conflictType
                  - conflictingPolicy
                  - detectedAt
                  - severity
                  type: object
                type: array
              ruleStatus:
                description: RuleStatus provides detailed status for each policy rule
                items:
                  description: RuleStatus provides detailed status for a policy rule
                  properties:
                    actionResults:
                      description: ActionResults status of each action in this rule
                      items:
                        description: ActionResult provides status for a policy action
                        properties:
                          actionType:
                            description: ActionType the type of action
                            type: string
                          averageExecutionTime:
                            description: AverageExecutionTime average time to execute
                              this action
                            type: string
                          errorMessage:
                            description: ErrorMessage error message if action failed
                            type: string
                          executionCount:
                            description: ExecutionCount number of times this action
                              has executed
                            format: int64
                            type: integer
                          lastExecution:
                            description: LastExecution timestamp when this action
                              last executed
                            format: date-time
                            type: string
                          success:
                            description: Success indicates if the action was successful
                            type: boolean
                        required:
                        - actionType
                        - executionCount
                        - success
                        type: object
                      type: array
                    applied:
                      description: Applied indicates if the rule was successfully
                        applied
                      type: boolean
                    lastMatch:
                      description: LastMatch timestamp when this rule last matched
                      format: date-time
                      type: string
                    matchCount:
                      description: MatchCount number of times this rule has matched
                      format: int64
                      type: integer
                    performanceMetrics:
                      description: PerformanceMetrics performance metrics for this
                        rule
                      properties:
                        averageEvaluationTime:
                          description: AverageEvaluationTime average time to evaluate
                            this rule
                          type: string
                        evaluationCount:
                          description: EvaluationCount total number of rule evaluations
                          format: int64
                          type: integer
                        lastEvaluationTime:
                          description: LastEvaluationTime time for the last evaluation
                          type: string
                        matchRate:
                          description: MatchRate percentage of evaluations that resulted
                            in matches as a string (e.g., "75.5%")
                          type: string
                      required:
                      - evaluationCount
                      type: object
                    ruleName:
                      description: RuleName identifies the rule (uses rule name or
                        index)
                      type: string
                    validationErrors:
                      description: ValidationErrors specific validation errors for
                        this rule
                      items:
                        description: DetailedError provides comprehensive error information
                          with context
                        properties:
                          code:
                            description: Code is a machine-readable error code
                            type: string
                          component:
                            description: Component identifies which component generated
                              the error
                            enum:
                            - Controller
                            - ExtensionServer
                            - TailscaleAPI
                            - ServiceDiscovery
                            - RouteGeneration
                            - Validation
                            - StatefulSet
                            - HealthCheck
                            - OAuth
                            - PolicyEngine
                            type: string
                          context:
                            additionalProperties:
                              type: string
                            description: Context provides additional context about
                              the error
                            type: object
                          httpStatusCode:
                            description: HTTPStatusCode provides HTTP status code
                              for API-related errors
                            format: int32
                            type: integer
                          lastRetry:
                            description: LastRetry timestamp of the last retry attempt
                            format: date-time
                            type: string
                          message:
                            description: Message is a human-readable error message
                            type: string
                          resolutionHint:
                            description: ResolutionHint provides guidance on how to
                              resolve the error
                            type: string
                          resourceRef:
                            description: ResourceRef identifies the specific resource
                              that caused the error
                            properties:
                              group:
                                description: Group is the group of the target resource.
                                maxLength: 253
                                pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                type: string
                              kind:
                                description: Kind is the kind of the target resource.
                                maxLength: 63
                                minLength: 1
                                pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                type: string
                              name:
                                description: Name is the name of the target resource.
                                maxLength: 253
                                minLength: 1
                                type: string
                              namespace:
                                description: Namespace is the namespace of the target
                                  resource.
                                maxLength: 63
                                minLength: 1
                                pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                type: string
                              sectionName:
                                description: SectionName is the name of a section
                                  within the target resource.
                                maxLength: 253
                                minLength: 1
                                pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                type: string
                            required:
                            - group
                            - kind
                            - name
                            type: object
                          retries:
                            description: Retries indicates how many times this operation
                              has been retried
                            format: int32
                            type: integer
                          severity:
                            description: Severity indicates the severity of the error
                            enum:
                            - Critical
                            - High
                            - Medium
                            - Low
                            - Info
                            type: string
                          timestamp:
                            description: Timestamp when the error occurred
                            format: date-time
                            type: string
                        required:
                        - code
                        - component
                        - message
                        - retries
                        - timestamp
                        type: object
                      type: array
                    validationStatus:
                      description: ValidationStatus indicates if the rule passed validation
                      enum:
                      - Valid
                      - Invalid
                      - Warning
                      type: string
                  required:
                  - applied
                  - matchCount
                  - ruleName
                  - validationStatus
                  type: object
                type: array
              validationErrors:
                description: ValidationErrors tracks policy validation errors
                items:
                  description: DetailedError provides comprehensive error information
                    with context
                  properties:
                    code:
                      description: Code is a machine-readable error code
                      type: string
                    component:
                      description: Component identifies which component generated
                        the error
                      enum:
                      - Controller
                      - ExtensionServer
                      - TailscaleAPI
                      - ServiceDiscovery
                      - RouteGeneration
                      - Validation
                      - StatefulSet
                      - HealthCheck
                      - OAuth
                      - PolicyEngine
                      type: string
                    context:
                      additionalProperties:
                        type: string
                      description: Context provides additional context about the error
                      type: object
                    httpStatusCode:
                      description: HTTPStatusCode provides HTTP status code for API-related
                        errors
                      format: int32
                      type: integer
                    lastRetry:
                      description: LastRetry timestamp of the last retry attempt
                      format: date-time
                      type: string
                    message:
                      description: Message is a human-readable error message
                      type: string
                    resolutionHint:
                      description: ResolutionHint provides guidance on how to resolve
                        the error
                      type: string
                    resourceRef:
                      description: ResourceRef identifies the specific resource that
                        caused the error
                      properties:
                        group:
                          description: Group is the group of the target resource.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          description: Kind is the kind of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the target resource.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: Namespace is the namespace of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        sectionName:
                          description: SectionName is the name of a section within
                            the target resource.
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - group
                      - kind
                      - name
                      type: object
                    retries:
                      description: Retries indicates how many times this operation
                        has been retried
                      format: int32
                      type: integer
                    severity:
                      description: Severity indicates the severity of the error
                      enum:
                      - Critical
                      - High
                      - Medium
                      - Low
                      - Info
                      type: string
                    timestamp:
                      description: Timestamp when the error occurred
                      format: date-time
                      type: string
                  required:
                  - code
                  - component
                  - message
                  - retries
                  - timestamp
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.5
  name: tailscaletailnets.gateway.tailscale.com
spec:
  group: gateway.tailscale.com
  names:
    kind: TailscaleTailnet
    listKind: TailscaleTailnetList
    plural: tailscaletailnets
    singular: tailscaletailnet
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - description: Status of the tailnet connection.
      jsonPath: .status.conditions[?(@.type == "Ready")].reason
      name: Status
      type: string
    - description: Discovered tailnet domain name.
      jsonPath: .status.tailnetInfo.name
      name: Tailnet
      type: string
    - description: Organization type of the tailnet.
      jsonPath: .status.tailnetInfo.organization
      name: Organization
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          TailscaleTailnet defines a connection to a specific Tailscale tailnet
          with associated credentials and configuration.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: TailscaleTailnetSpec defines the desired state of a tailnet
              connection
            properties:
              oauthSecretName:
                description: |-
                  OAuthSecretName is the name of the secret containing OAuth credentials.
                  The secret must contain keys `client_id` and `client_secret`.
                type: string
              oauthSecretNamespace:
                description: |-
                  OAuthSecretNamespace is the namespace of the secret containing OAuth credentials.
                  If not specified, it will look for the secret in the same namespace as the TailscaleTailnet.
                type: string
              tags:
                description: Tags to apply to auth keys created for this tailnet.
                items:
                  type: string
                type: array
              tailnet:
                description: |-
                  Tailnet is the tailnet name or organization.
                  If not specified, uses the default tailnet ("-").
                type: string
            required:
            - oauthSecretName
            type: object
          status:
            description: TailscaleTailnetStatus defines the observed state of a tailnet
              connection
            properties:
              apiStatus:
                description: APIStatus provides detailed information about Tailscale
                  API communication
                properties:
                  averageResponseTime:
                    description: AverageResponseTime average API response time
                    type: string
                  baseURL:
                    description: BaseURL the API base URL being used
                    type: string
                  capabilities:
                    description: Capabilities lists available API capabilities
                    items:
                      type: string
                    type: array
                  connected:
                    description: Connected indicates if API communication is working
                    type: boolean
                  lastError:
                    description: LastError provides details about the most recent
                      API error
                    properties:
                      code:
                        description: Code is a machine-readable error code
                        type: string
                      component:
                        description: Component identifies which component generated
                          the error
                        enum:
                        - Controller
                        - ExtensionServer
                        - TailscaleAPI
                        - ServiceDiscovery
                        - RouteGeneration
                        - Validation
                        - StatefulSet
                        - HealthCheck
                        - OAuth
                        - PolicyEngine
                        type: string
                      context:
                        additionalProperties:
                          type: string
                        description: Context provides additional context about the
                          error
                        type: object
                      httpStatusCode:
                        description: HTTPStatusCode provides HTTP status code for
                          API-related errors
                        format: int32
                        type: integer
                      lastRetry:
                        description: LastRetry timestamp of the last retry attempt
                        format: date-time
                        type: string
                      message:
                        description: Message is a human-readable error message
                        type: string
                      resolutionHint:
                        description: ResolutionHint provides guidance on how to resolve
                          the error
                        type: string
                      resourceRef:
                        description: ResourceRef identifies the specific resource
                          that caused the error
                        properties:
                          group:
                            description: Group is the group of the target resource.
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            description: Kind is the kind of the target resource.
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: Name is the name of the target resource.
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: Namespace is the namespace of the target
                              resource.
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          sectionName:
                            description: SectionName is the name of a section within
                              the target resource.
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - group
                        - kind
                        - name
                        type: object
                      retries:
                        description: Retries indicates how many times this operation
                          has been retried
                        format: int32
                        type: integer
                      severity:
                        description: Severity indicates the severity of the error
                        enum:
                        - Critical
                        - High
                        - Medium
                        - Low
                        - Info
                        type: string
                      timestamp:
                        description: Timestamp when the error occurred
                        format: date-time
                        type: string
                    required:
                    - code
                    - component
                    - message
                    - retries
                    - timestamp
                    type: object
                  lastSuccessfulCall:
                    description: LastSuccessfulCall timestamp of last successful API
                      call
                    format: date-time
                    type: string
                  rateLimitRemaining:
                    description: RateLimitRemaining API rate limit remaining
                    format: int32
                    type: integer
                  rateLimitReset:
                    description: RateLimitReset when the rate limit resets
                    format: date-time
                    type: string
                  requestCount:
                    description: RequestCount total number of API requests made
                    format: int64
                    type: integer
                  userAgent:
                    description: UserAgent the user agent string being used
                    type: string
                required:
                - connected
                type: object
              conditions:
                description: Conditions represent the current state of the tailnet
                  connection.
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              connectedDevices:
                description: ConnectedDevices number of currently connected devices
                format: int32
                type: integer
              credentialStatus:
                description: CredentialStatus tracks OAuth credential validation
                properties:
                  expiresAt:
                    description: ExpiresAt when the current token expires (if applicable)
                    format: date-time
                    type: string
                  lastRefresh:
                    description: LastRefresh when the token was last refreshed
                    format: date-time
                    type: string
                  lastValidated:
                    description: LastValidated when credentials were last validated
                    format: date-time
                    type: string
                  scopes:
                    description: Scopes available OAuth scopes for these credentials
                    items:
                      type: string
                    type: array
                  secretVersion:
                    description: SecretVersion tracks the version of the OAuth secret
                    type: string
                  tokenRefreshCount:
                    description: TokenRefreshCount number of times the token has been
                      refreshed
                    format: int64
                    type: integer
                  valid:
                    description: Valid indicates if the credentials are currently
                      valid
                    type: boolean
                  validationErrors:
                    description: ValidationErrors errors from credential validation
                    items:
                      description: DetailedError provides comprehensive error information
                        with context
                      properties:
                        code:
                          description: Code is a machine-readable error code
                          type: string
                        component:
                          description: Component identifies which component generated
                            the error
                          enum:
                          - Controller
                          - ExtensionServer
                          - TailscaleAPI
                          - ServiceDiscovery
                          - RouteGeneration
                          - Validation
                          - StatefulSet
                          - HealthCheck
                          - OAuth
                          - PolicyEngine
                          type: string
                        context:
                          additionalProperties:
                            type: string
                          description: Context provides additional context about the
                            error
                          type: object
                        httpStatusCode:
                          description: HTTPStatusCode provides HTTP status code for
                            API-related errors
                          format: int32
                          type: integer
                        lastRetry:
                          description: LastRetry timestamp of the last retry attempt
                          format: date-time
                          type: string
                        message:
                          description: Message is a human-readable error message
                          type: string
                        resolutionHint:
                          description: ResolutionHint provides guidance on how to
                            resolve the error
                          type: string
                        resourceRef:
                          description: ResourceRef identifies the specific resource
                            that caused the error
                          properties:
                            group:
                              description: Group is the group of the target resource.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              description: Kind is the kind of the target resource.
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the target resource.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: Namespace is the namespace of the target
                                resource.
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            sectionName:
                              description: SectionName is the name of a section within
                                the target resource.
                              maxLength: 253
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                          required:
                          - group
                          - kind
                          - name
                          type: object
                        retries:
                          description: Retries indicates how many times this operation
                            has been retried
                          format: int32
                          type: integer
                        severity:
                          description: Severity indicates the severity of the error
                          enum:
                          - Critical
                          - High
                          - Medium
                          - Low
                          - Info
                          type: string
                        timestamp:
                          description: Timestamp when the error occurred
                          format: date-time
                          type: string
                      required:
                      - code
                      - component
                      - message
                      - retries
                      - timestamp
                      type: object
                    type: array
                required:
                - valid
                type: object
              deviceCount:
                description: DeviceCount total number of devices in this tailnet
                format: int32
                type: integer
              featureFlags:
                description: FeatureFlags available features for this tailnet
                items:
                  type: string
                type: array
              lastSyncTime:
                description: |-
                  LastSyncTime is the last time the operator successfully
                  communicated with the Tailscale API for this tailnet.
                format: date-time
                type: string
              operationalMetrics:
                description: OperationalMetrics provides performance and operational
                  insights
                properties:
                  apiCallCount:
                    description: APICallCount total API calls made to Tailscale
                    format: int64
                    type: integer
                  apiRateLimitHits:
                    description: APIRateLimitHits number of times rate limits were
                      hit
                    format: int64
                    type: integer
                  averageReconcileTime:
                    description: AverageReconcileTime average reconciliation duration
                    type: string
                  errorRate:
                    description: ErrorRate percentage of failed operations as a string
                      (e.g., "15.5%")
                    type: string
                  failedReconciles:
                    description: FailedReconciles number of failed reconciliations
                    format: int64
                    type: integer
                  lastReconcileTime:
                    description: LastReconcileTime when the last reconciliation occurred
                    format: date-time
                    type: string
                  reconcileCount:
                    description: ReconcileCount total number of reconciliations
                    format: int64
                    type: integer
                  reconcileDuration:
                    description: ReconcileDuration how long the last reconciliation
                      took
                    type: string
                  successfulReconciles:
                    description: SuccessfulReconciles number of successful reconciliations
                    format: int64
                    type: integer
                  throughputPerHour:
                    description: ThroughputPerHour operations completed per hour
                    format: int64
                    type: integer
                required:
                - failedReconciles
                - lastReconcileTime
                - reconcileCount
                - successfulReconciles
                type: object
              recentErrors:
                description: RecentErrors tracks recent operational errors with context
                items:
                  description: DetailedError provides comprehensive error information
                    with context
                  properties:
                    code:
                      description: Code is a machine-readable error code
                      type: string
                    component:
                      description: Component identifies which component generated
                        the error
                      enum:
                      - Controller
                      - ExtensionServer
                      - TailscaleAPI
                      - ServiceDiscovery
                      - RouteGeneration
                      - Validation
                      - StatefulSet
                      - HealthCheck
                      - OAuth
                      - PolicyEngine
                      type: string
                    context:
                      additionalProperties:
                        type: string
                      description: Context provides additional context about the error
                      type: object
                    httpStatusCode:
                      description: HTTPStatusCode provides HTTP status code for API-related
                        errors
                      format: int32
                      type: integer
                    lastRetry:
                      description: LastRetry timestamp of the last retry attempt
                      format: date-time
                      type: string
                    message:
                      description: Message is a human-readable error message
                      type: string
                    resolutionHint:
                      description: ResolutionHint provides guidance on how to resolve
                        the error
                      type: string
                    resourceRef:
                      description: ResourceRef identifies the specific resource that
                        caused the error
                      properties:
                        group:
                          description: Group is the group of the target resource.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          description: Kind is the kind of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the target resource.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: Namespace is the namespace of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        sectionName:
                          description: SectionName is the name of a section within
                            the target resource.
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - group
                      - kind
                      - name
                      type: object
                    retries:
                      description: Retries indicates how many times this operation
                        has been retried
                      format: int32
                      type: integer
                    severity:
                      description: Severity indicates the severity of the error
                      enum:
                      - Critical
                      - High
                      - Medium
                      - Low
                      - Info
                      type: string
                    timestamp:
                      description: Timestamp when the error occurred
                      format: date-time
                      type: string
                  required:
                  - code
                  - component
                  - message
                  - retries
                  - timestamp
                  type: object
                type: array
                x-kubernetes-list-type: atomic
              tailnetInfo:
                description: TailnetInfo contains information about the connected
                  tailnet.
                properties:
                  createdAt:
                    description: CreatedAt when the tailnet was created
                    format: date-time
                    type: string
                  lastUpdated:
                    description: LastUpdated when the tailnet info was last updated
                    format: date-time
                    type: string
                  magicDNSSuffix:
                    description: MagicDNSSuffix is the DNS suffix used for MagicDNS
                      in this tailnet.
                    type: string
                  name:
                    description: Name is the tailnet domain (e.g., "tail123abc.ts.net").
                    type: string
                  organization:
                    description: Organization is the organization name if applicable.
                    type: string
                  planType:
                    description: PlanType indicates the Tailscale plan (Personal,
                      Business, Enterprise)
                    type: string
                  region:
                    description: Region indicates the primary region for this tailnet
                    type: string
                  tailnetID:
                    description: TailnetID is the unique identifier for this tailnet
                    type: string
                required:
                - name
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
