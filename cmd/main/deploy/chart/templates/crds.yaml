{{- if .Values.installCRDs }}
# CRDs are inserted here by the generate tool
# PLACEHOLDER_CRDS_START
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.5
  name: tailscaleendpoints.gateway.tailscale.com
spec:
  group: gateway.tailscale.com
  names:
    categories:
    - tailscale-gateway
    kind: TailscaleEndpoints
    listKind: TailscaleEndpointsList
    plural: tailscaleendpoints
    singular: tailscaleendpoints
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Associated tailnet
      jsonPath: .spec.tailnet
      name: Tailnet
      type: string
    - description: Total endpoints
      jsonPath: .status.totalEndpoints
      name: Total
      type: integer
    - description: Healthy endpoints
      jsonPath: .status.healthyEndpoints
      name: Healthy
      type: integer
    - description: Created StatefulSets
      jsonPath: .status.statefulSetRefs[*].name
      name: StatefulSets
      type: integer
    - description: Last discovery sync
      jsonPath: .status.lastSync
      name: Last Sync
      type: date
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: TailscaleEndpoints is the Schema for the tailscaleendpoints API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: TailscaleEndpointsSpec defines the desired state of TailscaleEndpoints
            properties:
              autoDiscovery:
                description: AutoDiscovery configures automatic endpoint discovery
                properties:
                  enabled:
                    default: true
                    description: Enabled controls whether auto-discovery is active
                    type: boolean
                  serviceDiscovery:
                    description: ServiceDiscovery configures VIP service discovery
                    properties:
                      enabled:
                        default: false
                        description: Enabled controls whether to discover Tailscale
                          VIP services
                        type: boolean
                      serviceNames:
                        description: |-
                          ServiceNames are specific VIP service names to discover
                          Format: ["svc:web-service", "svc:api-service"]
                        items:
                          type: string
                        type: array
                      serviceTags:
                        description: ServiceTags filter VIP services by ACL tags
                        items:
                          type: string
                        type: array
                    required:
                    - enabled
                    type: object
                  syncInterval:
                    default: 30s
                    description: SyncInterval defines how often to sync with Tailscale
                      API
                    type: string
                  tagSelectors:
                    description: TagSelectors define advanced tag-based discovery
                      rules
                    items:
                      description: TagSelector defines a tag-based selection rule
                      properties:
                        operator:
                          default: Exists
                          description: Operator defines the selection operator
                          enum:
                          - In
                          - NotIn
                          - Exists
                          - DoesNotExist
                          type: string
                        tag:
                          description: Tag is the full tag key (e.g., "tag:service",
                            "tag:environment")
                          type: string
                        values:
                          description: |-
                            Values are the tag values to match (for In/NotIn operators)
                            For "tag:environment", values might be ["production", "staging"]
                          items:
                            type: string
                          type: array
                      required:
                      - tag
                      type: object
                    type: array
                required:
                - enabled
                type: object
              endpoints:
                description: Endpoints defines the mapping between Tailscale services
                  and their network details
                items:
                  description: TailscaleEndpoint represents a service accessible via
                    Tailscale
                  properties:
                    externalTarget:
                      description: |-
                        ExternalTarget defines the external service this endpoint should route to (for Envoy Gateway integration)
                        Format: "hostname:port" or "service-name.namespace.svc.cluster.local:port"
                      type: string
                    healthCheck:
                      description: HealthCheck defines health checking configuration
                        for this endpoint
                      properties:
                        enabled:
                          default: true
                          description: Enabled controls whether health checking is
                            active
                          type: boolean
                        healthyThreshold:
                          default: 2
                          description: HealthyThreshold is the number of consecutive
                            successful checks for healthy status
                          format: int32
                          minimum: 1
                          type: integer
                        interval:
                          default: 10s
                          description: Interval defines how often to perform health
                            checks
                          type: string
                        path:
                          default: /health
                          description: Path is the HTTP path for health checks (HTTP/HTTPS
                            protocols only)
                          type: string
                        timeout:
                          default: 3s
                          description: Timeout defines the timeout for health check
                            requests
                          type: string
                        unhealthyThreshold:
                          default: 3
                          description: UnhealthyThreshold is the number of consecutive
                            failed checks for unhealthy status
                          format: int32
                          minimum: 1
                          type: integer
                      required:
                      - enabled
                      type: object
                    name:
                      description: Name is a unique identifier for this endpoint within
                        the tailnet
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                    port:
                      description: Port is the port number the service listens on
                      format: int32
                      maximum: 65535
                      minimum: 1
                      type: integer
                    protocol:
                      default: HTTP
                      description: Protocol defines the network protocol (HTTP, HTTPS,
                        TCP, UDP)
                      enum:
                      - HTTP
                      - HTTPS
                      - TCP
                      - UDP
                      type: string
                    tags:
                      description: Tags are Tailscale tags associated with this endpoint
                      items:
                        type: string
                      type: array
                    tailscaleFQDN:
                      description: TailscaleFQDN is the fully qualified domain name
                        in the tailnet
                      type: string
                    tailscaleIP:
                      description: TailscaleIP is the Tailscale IP address of the
                        service
                      type: string
                    weight:
                      default: 1
                      description: Weight defines the load balancing weight for this
                        endpoint
                      format: int32
                      maximum: 100
                      minimum: 1
                      type: integer
                  required:
                  - name
                  - port
                  - protocol
                  - tailscaleFQDN
                  - tailscaleIP
                  type: object
                type: array
              tailnet:
                description: Tailnet identifies which tailnet these endpoints belong
                  to
                type: string
            required:
            - tailnet
            type: object
          status:
            description: TailscaleEndpointsStatus defines the observed state of TailscaleEndpoints
            properties:
              conditions:
                description: Conditions represent the current state of the TailscaleEndpoints
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              discoveredEndpoints:
                description: DiscoveredEndpoints is the count of endpoints discovered
                  via auto-discovery
                type: integer
              endpointStatus:
                description: EndpointStatus provides detailed status for each endpoint
                items:
                  description: EndpointStatus provides status information for a specific
                    endpoint
                  properties:
                    discoverySource:
                      description: DiscoverySource indicates how this endpoint was
                        discovered
                      enum:
                      - Manual
                      - AutoDiscovery
                      type: string
                    healthStatus:
                      description: HealthStatus indicates the health check status
                      enum:
                      - Healthy
                      - Unhealthy
                      - Unknown
                      type: string
                    lastHealthCheck:
                      description: LastHealthCheck is when the endpoint was last health
                        checked
                      format: date-time
                      type: string
                    name:
                      description: Name identifies the endpoint
                      type: string
                    tags:
                      description: Tags are the Tailscale tags associated with this
                        endpoint
                      items:
                        type: string
                      type: array
                    tailscaleIP:
                      description: TailscaleIP is the endpoint's Tailscale IP
                      type: string
                  required:
                  - discoverySource
                  - healthStatus
                  - name
                  - tailscaleIP
                  type: object
                type: array
              healthyEndpoints:
                description: HealthyEndpoints is the count of endpoints passing health
                  checks
                type: integer
              lastSync:
                description: LastSync indicates when endpoint discovery last succeeded
                format: date-time
                type: string
              statefulSetRefs:
                description: StatefulSetRefs tracks the StatefulSets created for endpoint
                  connections
                items:
                  description: StatefulSetReference tracks a StatefulSet created for
                    an endpoint connection
                  properties:
                    connectionType:
                      description: ConnectionType indicates whether this is an ingress
                        or egress connection
                      enum:
                      - ingress
                      - egress
                      type: string
                    endpointName:
                      description: EndpointName identifies which endpoint this StatefulSet
                        serves
                      type: string
                    name:
                      description: Name of the StatefulSet
                      type: string
                    namespace:
                      description: Namespace of the StatefulSet
                      type: string
                  required:
                  - connectionType
                  - endpointName
                  - name
                  - namespace
                  type: object
                type: array
              totalEndpoints:
                description: TotalEndpoints is the total count of endpoints (discovered
                  + manually configured)
                type: integer
            required:
            - discoveredEndpoints
            - healthyEndpoints
            - totalEndpoints
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.5
  name: tailscalegateways.gateway.tailscale.com
spec:
  group: gateway.tailscale.com
  names:
    categories:
    - tailscale-gateway
    kind: TailscaleGateway
    listKind: TailscaleGatewayList
    plural: tailscalegateways
    singular: tailscalegateway
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Referenced Envoy Gateway
      jsonPath: .spec.gatewayRef.name
      name: Gateway
      type: string
    - description: Number of configured tailnets
      jsonPath: .status.tailnetStatus.length
      name: Tailnets
      type: integer
    - description: Total discovered services
      jsonPath: .status.tailnetStatus[*].discoveredServices
      name: Services
      type: integer
    - description: Extension Server status
      jsonPath: .status.conditions[?(@.type=="ExtensionServerReady")].status
      name: Extension
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          TailscaleGateway integrates Envoy Gateway with Tailscale networking,
          enabling dynamic route injection based on tailnet topology.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: TailscaleGatewaySpec defines the desired state of TailscaleGateway
            properties:
              extensionServer:
                description: |-
                  ExtensionServer configures the gRPC extension server that implements
                  Envoy Gateway xDS hooks for dynamic route injection.
                properties:
                  image:
                    default: tailscale-gateway-extension:latest
                    description: Image defines the container image for the Extension
                      Server
                    type: string
                  port:
                    description: |-
                      Port is the port number for the gRPC extension server.
                      Defaults to 8443.
                    format: int32
                    type: integer
                  replicas:
                    default: 2
                    description: Replicas defines the number of Extension Server replicas
                    format: int32
                    minimum: 1
                    type: integer
                  resources:
                    description: Resources defines resource requirements for Extension
                      Server pods
                    properties:
                      claims:
                        description: |-
                          Claims lists the names of resources, defined in spec.resourceClaims,
                          that are used by this container.

                          This is an alpha field and requires enabling the
                          DynamicResourceAllocation feature gate.

                          This field is immutable. It can only be set for containers.
                        items:
                          description: ResourceClaim references one entry in PodSpec.ResourceClaims.
                          properties:
                            name:
                              description: |-
                                Name must match the name of one entry in pod.spec.resourceClaims of
                                the Pod where this field is used. It makes that resource available
                                inside a container.
                              type: string
                            request:
                              description: |-
                                Request is the name chosen for a request in the referenced claim.
                                If empty, everything from the claim is made available, otherwise
                                only the result of this request.
                              type: string
                          required:
                          - name
                          type: object
                        type: array
                        x-kubernetes-list-map-keys:
                        - name
                        x-kubernetes-list-type: map
                      limits:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: |-
                          Limits describes the maximum amount of compute resources allowed.
                          More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                        type: object
                      requests:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: |-
                          Requests describes the minimum amount of compute resources required.
                          If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,
                          otherwise to an implementation-defined value. Requests cannot exceed Limits.
                          More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                        type: object
                    type: object
                  serviceAccountName:
                    description: ServiceAccountName defines the ServiceAccount for
                      Extension Server pods
                    type: string
                  tls:
                    description: TLS configures TLS settings for the extension server.
                    properties:
                      certificateRef:
                        description: CertificateRef is a reference to a Secret containing
                          TLS certificates.
                        properties:
                          group:
                            default: ""
                            description: |-
                              Group is the group of the referent. For example, "gateway.networking.k8s.io".
                              When unspecified or empty string, core API group is inferred.
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Secret
                            description: Kind is kind of the referent. For example
                              "Secret".
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: Name is the name of the referent.
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the referenced object. When unspecified, the local
                              namespace is inferred.

                              Note that when a namespace different than the local namespace is specified,
                              a ReferenceGrant object is required in the referent namespace to allow that
                              namespace's owner to accept the reference. See the ReferenceGrant
                              documentation for details.

                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                        required:
                        - name
                        type: object
                      insecureSkipVerify:
                        description: |-
                          InsecureSkipVerify disables TLS certificate verification.
                          Should only be used for development/testing.
                        type: boolean
                    type: object
                required:
                - image
                - replicas
                type: object
              gatewayRef:
                description: |-
                  GatewayRef is a reference to the Envoy Gateway that this
                  TailscaleGateway should integrate with.
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is the kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  namespace:
                    description: Namespace is the namespace of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                    type: string
                  sectionName:
                    description: SectionName is the name of a section within the target
                      resource.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
              tailnets:
                description: Tailnets defines the Tailscale networks and their service
                  discovery configuration
                items:
                  description: TailnetConfig defines configuration for a specific
                    Tailscale network
                  properties:
                    name:
                      description: Name is a unique identifier for this tailnet within
                        the gateway
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                    routeGeneration:
                      description: RouteGeneration configures how routes are generated
                        for this tailnet
                      properties:
                        egress:
                          description: Egress configures routes for traffic from cluster
                            to tailnet
                          properties:
                            hostPattern:
                              default: '{service}.tailscale.local'
                              description: |-
                                HostPattern defines the hostname pattern for generated routes
                                Variables: {service}, {tailnet}, {domain}
                              type: string
                            pathPrefix:
                              default: /tailscale/{service}/
                              description: |-
                                PathPrefix defines the path prefix for generated routes
                                Variables: {service}, {tailnet}
                              type: string
                            protocol:
                              default: HTTP
                              description: Protocol defines the protocol for generated
                                routes
                              enum:
                              - HTTP
                              - HTTPS
                              type: string
                          required:
                          - hostPattern
                          - pathPrefix
                          - protocol
                          type: object
                        ingress:
                          description: Ingress configures routes for traffic from
                            tailnet to cluster
                          properties:
                            hostPattern:
                              default: '{service}.{tailnet}.gateway.local'
                              description: |-
                                HostPattern defines the hostname pattern for generated routes
                                Variables: {service}, {tailnet}, {domain}
                              type: string
                            pathPrefix:
                              default: /
                              description: PathPrefix defines the path prefix for
                                generated routes
                              type: string
                            protocol:
                              default: HTTPS
                              description: Protocol defines the protocol for generated
                                routes
                              enum:
                              - HTTP
                              - HTTPS
                              type: string
                          required:
                          - hostPattern
                          - pathPrefix
                          - protocol
                          type: object
                      type: object
                    serviceDiscovery:
                      description: ServiceDiscovery configures automatic service discovery
                        for this tailnet
                      properties:
                        enabled:
                          default: true
                          description: Enabled controls whether service discovery
                            is active for this tailnet
                          type: boolean
                        excludePatterns:
                          description: ExcludePatterns defines glob patterns for services
                            to exclude from discovery
                          items:
                            type: string
                          type: array
                        patterns:
                          description: Patterns defines glob patterns for services
                            to include in discovery
                          items:
                            type: string
                          type: array
                        syncInterval:
                          default: 30s
                          description: SyncInterval defines how often to sync with
                            Tailscale API
                          type: string
                      required:
                      - enabled
                      type: object
                    tailscaleTailnetRef:
                      description: TailscaleTailnetRef references the TailscaleTailnet
                        resource for this tailnet
                      properties:
                        group:
                          description: Group is the group of the target resource.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          description: Kind is the kind of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the target resource.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: Namespace is the namespace of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        sectionName:
                          description: SectionName is the name of a section within
                            the target resource.
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - group
                      - kind
                      - name
                      type: object
                  required:
                  - name
                  - tailscaleTailnetRef
                  type: object
                minItems: 1
                type: array
            required:
            - gatewayRef
            - tailnets
            type: object
          status:
            description: TailscaleGatewayStatus defines the observed state of TailscaleGateway
            properties:
              conditions:
                description: Conditions represent the current state of the TailscaleGateway
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              extensionServerStatus:
                description: ExtensionServerStatus provides status for the Extension
                  Server
                properties:
                  desiredReplicas:
                    description: DesiredReplicas indicates the desired number of Extension
                      Server replicas
                    format: int32
                    type: integer
                  lastHookCall:
                    description: LastHookCall is the timestamp of the last successful
                      hook call.
                    format: date-time
                    type: string
                  ready:
                    description: Ready indicates if the extension server is ready
                      to accept connections.
                    type: boolean
                  readyReplicas:
                    description: ReadyReplicas indicates how many Extension Server
                      replicas are ready
                    format: int32
                    type: integer
                  serviceEndpoint:
                    description: ServiceEndpoint provides the gRPC endpoint for the
                      Extension Server
                    type: string
                required:
                - desiredReplicas
                - ready
                - readyReplicas
                type: object
              generatedRoutes:
                description: GeneratedRoutes tracks the number of routes generated
                  by this gateway
                properties:
                  egressRoutes:
                    description: EgressRoutes is the count of egress routes generated
                    type: integer
                  ingressRoutes:
                    description: IngressRoutes is the count of ingress routes generated
                    type: integer
                  lastGeneration:
                    description: LastGeneration indicates when routes were last generated
                    format: date-time
                    type: string
                required:
                - egressRoutes
                - ingressRoutes
                type: object
              services:
                description: Services tracks VIP services managed by this gateway
                items:
                  description: ServiceInfo provides information about a VIP service
                    managed by this gateway
                  properties:
                    consumerCount:
                      description: ConsumerCount is the number of clusters consuming
                        this service
                      type: integer
                    name:
                      description: Name is the service name
                      type: string
                    ownerCluster:
                      description: OwnerCluster indicates which cluster/operator owns
                        this service
                      type: string
                    vipAddresses:
                      description: VIPAddresses are the VIP addresses allocated to
                        this service
                      items:
                        type: string
                      type: array
                  required:
                  - consumerCount
                  - name
                  - ownerCluster
                  type: object
                type: array
              tailnetStatus:
                description: TailnetStatus provides status for each configured tailnet
                items:
                  description: TailnetStatus provides status information for a specific
                    tailnet
                  properties:
                    conditions:
                      description: Conditions represent the current state of this
                        tailnet
                      items:
                        description: Condition contains details for one aspect of
                          the current state of this API Resource.
                        properties:
                          lastTransitionTime:
                            description: |-
                              lastTransitionTime is the last time the condition transitioned from one status to another.
                              This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                            format: date-time
                            type: string
                          message:
                            description: |-
                              message is a human readable message indicating details about the transition.
                              This may be an empty string.
                            maxLength: 32768
                            type: string
                          observedGeneration:
                            description: |-
                              observedGeneration represents the .metadata.generation that the condition was set based upon.
                              For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                              with respect to the current state of the instance.
                            format: int64
                            minimum: 0
                            type: integer
                          reason:
                            description: |-
                              reason contains a programmatic identifier indicating the reason for the condition's last transition.
                              Producers of specific condition types may define expected values and meanings for this field,
                              and whether the values are considered a guaranteed API.
                              The value should be a CamelCase string.
                              This field may not be empty.
                            maxLength: 1024
                            minLength: 1
                            pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                            type: string
                          status:
                            description: status of the condition, one of True, False,
                              Unknown.
                            enum:
                            - "True"
                            - "False"
                            - Unknown
                            type: string
                          type:
                            description: type of condition in CamelCase or in foo.example.com/CamelCase.
                            maxLength: 316
                            pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                            type: string
                        required:
                        - lastTransitionTime
                        - message
                        - reason
                        - status
                        - type
                        type: object
                      type: array
                      x-kubernetes-list-map-keys:
                      - type
                      x-kubernetes-list-type: map
                    discoveredServices:
                      description: DiscoveredServices is the count of services discovered
                        in this tailnet
                      type: integer
                    lastSync:
                      description: LastSync indicates when service discovery last
                        succeeded
                      format: date-time
                      type: string
                    name:
                      description: Name identifies the tailnet
                      type: string
                  required:
                  - discoveredServices
                  - name
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.5
  name: tailscaleroutepolicies.gateway.tailscale.com
spec:
  group: gateway.tailscale.com
  names:
    kind: TailscaleRoutePolicy
    listKind: TailscaleRoutePolicyList
    plural: tailscaleroutepolicies
    singular: tailscaleroutepolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Status of the route policy.
      jsonPath: .status.conditions[?(@.type == "Ready")].reason
      name: Status
      type: string
    - description: Target gateway.
      jsonPath: .spec.targetRefs[0].name
      name: Gateway
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          TailscaleRoutePolicy defines advanced routing policies for tailnet traffic
          through Envoy Gateway, supporting conditions, transformations, and actions.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: TailscaleRoutePolicySpec defines the desired routing policy
            properties:
              rules:
                description: Rules define the routing policy rules to apply.
                items:
                  description: PolicyRule defines a single routing policy rule
                  properties:
                    actions:
                      description: Actions define what should happen when this rule
                        matches.
                      items:
                        description: PolicyAction defines an action to take when a
                          rule matches
                        properties:
                          redirect:
                            description: Redirect configures HTTP redirect responses.
                            properties:
                              hostname:
                                description: Hostname is the hostname to redirect
                                  to.
                                type: string
                              path:
                                description: Path configures path replacement for
                                  redirects.
                                properties:
                                  type:
                                    description: Type specifies how to replace the
                                      path.
                                    enum:
                                    - ReplaceFullPath
                                    - ReplacePrefixMatch
                                    type: string
                                  value:
                                    description: Value is the replacement value.
                                    type: string
                                required:
                                - type
                                - value
                                type: object
                              port:
                                description: Port is the port to redirect to.
                                format: int32
                                maximum: 65535
                                minimum: 1
                                type: integer
                              scheme:
                                description: Scheme is the scheme to redirect to.
                                type: string
                              statusCode:
                                description: StatusCode is the HTTP status code for
                                  the redirect.
                                enum:
                                - 301
                                - 302
                                format: int32
                                type: integer
                            type: object
                          requestHeaderModifier:
                            description: RequestHeaderModifier configures request
                              header modifications.
                            properties:
                              add:
                                description: Add configures headers to add, preserving
                                  existing values.
                                items:
                                  description: Header represents an HTTP header
                                  properties:
                                    name:
                                      description: Name is the header name.
                                      type: string
                                    value:
                                      description: Value is the header value.
                                      type: string
                                  required:
                                  - name
                                  - value
                                  type: object
                                type: array
                              remove:
                                description: Remove configures headers to remove.
                                items:
                                  type: string
                                type: array
                              set:
                                description: Set configures headers to set, overwriting
                                  existing values.
                                items:
                                  description: Header represents an HTTP header
                                  properties:
                                    name:
                                      description: Name is the header name.
                                      type: string
                                    value:
                                      description: Value is the header value.
                                      type: string
                                  required:
                                  - name
                                  - value
                                  type: object
                                type: array
                            type: object
                          responseHeaderModifier:
                            description: ResponseHeaderModifier configures response
                              header modifications.
                            properties:
                              add:
                                description: Add configures headers to add, preserving
                                  existing values.
                                items:
                                  description: Header represents an HTTP header
                                  properties:
                                    name:
                                      description: Name is the header name.
                                      type: string
                                    value:
                                      description: Value is the header value.
                                      type: string
                                  required:
                                  - name
                                  - value
                                  type: object
                                type: array
                              remove:
                                description: Remove configures headers to remove.
                                items:
                                  type: string
                                type: array
                              set:
                                description: Set configures headers to set, overwriting
                                  existing values.
                                items:
                                  description: Header represents an HTTP header
                                  properties:
                                    name:
                                      description: Name is the header name.
                                      type: string
                                    value:
                                      description: Value is the header value.
                                      type: string
                                  required:
                                  - name
                                  - value
                                  type: object
                                type: array
                            type: object
                          route:
                            description: Route configures routing to a specific backend.
                            properties:
                              backendRefs:
                                description: BackendRefs are the backends to route
                                  traffic to.
                                items:
                                  description: BackendRef references a backend service
                                  properties:
                                    group:
                                      default: ""
                                      description: |-
                                        Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                        When unspecified or empty string, core API group is inferred.
                                      maxLength: 253
                                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                      type: string
                                    kind:
                                      default: Service
                                      description: |-
                                        Kind is the Kubernetes resource kind of the referent. For example
                                        "Service".

                                        Defaults to "Service" when not specified.

                                        ExternalName services can refer to CNAME DNS records that may live
                                        outside of the cluster and as such are difficult to reason about in
                                        terms of conformance. They also may not be safe to forward to (see
                                        CVE-2021-25740 for more information). Implementations SHOULD NOT
                                        support ExternalName Services.

                                        Support: Core (Services with a type other than ExternalName)

                                        Support: Implementation-specific (Services with type ExternalName)
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                      type: string
                                    name:
                                      description: Name is the name of the referent.
                                      maxLength: 253
                                      minLength: 1
                                      type: string
                                    namespace:
                                      description: |-
                                        Namespace is the namespace of the backend. When unspecified, the local
                                        namespace is inferred.

                                        Note that when a namespace different than the local namespace is specified,
                                        a ReferenceGrant object is required in the referent namespace to allow that
                                        namespace's owner to accept the reference. See the ReferenceGrant
                                        documentation for details.

                                        Support: Core
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                      type: string
                                    port:
                                      description: |-
                                        Port specifies the destination port number to use for this resource.
                                        Port is required when the referent is a Kubernetes Service. In this
                                        case, the port number is the service port number, not the target port.
                                        For other resources, destination port might be derived from the referent
                                        resource or this field.
                                      format: int32
                                      maximum: 65535
                                      minimum: 1
                                      type: integer
                                    weight:
                                      description: Weight configures the weight for
                                        load balancing.
                                      format: int32
                                      type: integer
                                  required:
                                  - name
                                  type: object
                                  x-kubernetes-validations:
                                  - message: Must have port for Service reference
                                    rule: '(size(self.group) == 0 && self.kind ==
                                      ''Service'') ? has(self.port) : true'
                                type: array
                              timeout:
                                description: Timeout configures timeouts for this
                                  route.
                                properties:
                                  backendRequest:
                                    description: BackendRequest is the timeout for
                                      backend requests.
                                    type: string
                                  request:
                                    description: Request is the timeout for the entire
                                      request.
                                    type: string
                                type: object
                            required:
                            - backendRefs
                            type: object
                          type:
                            description: Type specifies the type of action to take.
                            enum:
                            - Route
                            - Redirect
                            - Deny
                            - RequestHeaderModifier
                            - ResponseHeaderModifier
                            type: string
                        required:
                        - type
                        type: object
                      type: array
                    matches:
                      description: Matches define when this rule should be applied.
                      items:
                        description: PolicyMatch defines conditions for when a rule
                          should apply
                        properties:
                          headers:
                            description: Headers matches based on request headers.
                            items:
                              description: HeaderMatch matches based on request headers
                              properties:
                                name:
                                  description: Name is the header name to match.
                                  type: string
                                type:
                                  description: Type specifies how to match the header.
                                  enum:
                                  - Exact
                                  - RegularExpression
                                  type: string
                                value:
                                  description: Value is the header value to match
                                    against.
                                  type: string
                              required:
                              - name
                              - type
                              - value
                              type: object
                            type: array
                          method:
                            description: Method matches based on HTTP method.
                            properties:
                              methods:
                                description: Methods are the HTTP methods to match.
                                enum:
                                - GET
                                - HEAD
                                - POST
                                - PUT
                                - DELETE
                                - CONNECT
                                - OPTIONS
                                - TRACE
                                - PATCH
                                items:
                                  description: HTTPMethod represents an HTTP method
                                  type: string
                                type: array
                            required:
                            - methods
                            type: object
                          path:
                            description: Path matches based on the request path.
                            properties:
                              type:
                                description: Type specifies how to match the path.
                                enum:
                                - Exact
                                - PathPrefix
                                - RegularExpression
                                type: string
                              value:
                                description: Value is the path value to match against.
                                type: string
                            required:
                            - type
                            - value
                            type: object
                          tailnetDevice:
                            description: TailnetDevice matches based on characteristics
                              of the source tailnet device.
                            properties:
                              hostnames:
                                description: |-
                                  Hostnames matches devices by hostname patterns.
                                  Supports wildcards (*) for pattern matching.
                                items:
                                  type: string
                                type: array
                              ips:
                                description: |-
                                  IPs matches devices by their tailnet IP addresses.
                                  Supports CIDR notation for network ranges.
                                items:
                                  type: string
                                type: array
                              tags:
                                description: Tags matches devices that have any of
                                  the specified tags.
                                items:
                                  type: string
                                type: array
                              users:
                                description: Users matches devices owned by specific
                                  users.
                                items:
                                  type: string
                                type: array
                            type: object
                        type: object
                      type: array
                    name:
                      description: Name is an optional name for this rule for debugging
                        purposes.
                      type: string
                  required:
                  - actions
                  type: object
                type: array
              targetRefs:
                description: |-
                  TargetRefs identifies the targets that this policy applies to.
                  Can target Gateways, HTTPRoutes, or TailscaleGateways.
                items:
                  description: LocalPolicyTargetReference identifies a target for
                    policy attachment
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is the kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    namespace:
                      description: Namespace is the namespace of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                    sectionName:
                      description: SectionName is the name of a section within the
                        target resource.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                type: array
            required:
            - rules
            - targetRefs
            type: object
          status:
            description: TailscaleRoutePolicyStatus defines the observed state of
              TailscaleRoutePolicy
            properties:
              appliedTo:
                description: AppliedTo indicates which targets this policy has been
                  successfully applied to.
                items:
                  description: PolicyTargetStatus represents the status of policy
                    application to a target
                  properties:
                    applied:
                      description: Applied indicates if the policy was successfully
                        applied.
                      type: boolean
                    message:
                      description: Message contains additional information about the
                        application status.
                      type: string
                    targetRef:
                      description: TargetRef is the reference to the target.
                      properties:
                        group:
                          description: Group is the group of the target resource.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          description: Kind is the kind of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the target resource.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: Namespace is the namespace of the target resource.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        sectionName:
                          description: SectionName is the name of a section within
                            the target resource.
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - group
                      - kind
                      - name
                      type: object
                  required:
                  - applied
                  - targetRef
                  type: object
                type: array
              conditions:
                description: Conditions represent the current state of the policy.
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.5
  name: tailscaletailnets.gateway.tailscale.com
spec:
  group: gateway.tailscale.com
  names:
    kind: TailscaleTailnet
    listKind: TailscaleTailnetList
    plural: tailscaletailnets
    singular: tailscaletailnet
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - description: Status of the tailnet connection.
      jsonPath: .status.conditions[?(@.type == "Ready")].reason
      name: Status
      type: string
    - description: Discovered tailnet domain name.
      jsonPath: .status.tailnetInfo.name
      name: Tailnet
      type: string
    - description: Organization type of the tailnet.
      jsonPath: .status.tailnetInfo.organization
      name: Organization
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          TailscaleTailnet defines a connection to a specific Tailscale tailnet
          with associated credentials and configuration.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: TailscaleTailnetSpec defines the desired state of a tailnet
              connection
            properties:
              oauthSecretName:
                description: |-
                  OAuthSecretName is the name of the secret containing OAuth credentials.
                  The secret must contain keys `client_id` and `client_secret`.
                type: string
              oauthSecretNamespace:
                description: |-
                  OAuthSecretNamespace is the namespace of the secret containing OAuth credentials.
                  If not specified, it will look for the secret in the same namespace as the TailscaleTailnet.
                type: string
              tags:
                description: Tags to apply to auth keys created for this tailnet.
                items:
                  type: string
                type: array
              tailnet:
                description: |-
                  Tailnet is the tailnet name or organization.
                  If not specified, uses the default tailnet ("-").
                type: string
            required:
            - oauthSecretName
            type: object
          status:
            description: TailscaleTailnetStatus defines the observed state of a tailnet
              connection
            properties:
              conditions:
                description: Conditions represent the current state of the tailnet
                  connection.
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              lastSyncTime:
                description: |-
                  LastSyncTime is the last time the operator successfully
                  communicated with the Tailscale API for this tailnet.
                format: date-time
                type: string
              tailnetInfo:
                description: TailnetInfo contains information about the connected
                  tailnet.
                properties:
                  magicDNSSuffix:
                    description: MagicDNSSuffix is the DNS suffix used for MagicDNS
                      in this tailnet.
                    type: string
                  name:
                    description: Name is the tailnet domain (e.g., "tail123abc.ts.net").
                    type: string
                  organization:
                    description: Organization is the organization name if applicable.
                    type: string
                required:
                - name
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}

# PLACEHOLDER_CRDS_END
{{- end }} 